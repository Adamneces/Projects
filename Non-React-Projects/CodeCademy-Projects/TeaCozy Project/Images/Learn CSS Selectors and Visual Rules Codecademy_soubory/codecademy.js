(function(){try{
(()=>{var bp=Object.defineProperty;var Ap=(e,t,o)=>t in e?bp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var To=(e,t,o)=>(Ap(e,typeof t!="symbol"?t+"":t,o),o);var l={apps:[{active:!0,app:"TARGET",platforms:[{platform:"FACEBOOK_ADS"}]}],bundles:[{name:"codecademy"}],config:{events:{purchase:{fbEventsToIntercept:[{event:"StartTrial"}]}},spa:{refresh:{delay:1e3,enabled:!0}},visitor:{id_name:"_bcai_i",id_source:"cookie",set_info:!0}},facebookAccounts:[{advancedMatching:!0,pixelId:"1036078779778355"}],name:"CODECADEMY",pages:[{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/checkout/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"confirmation",pattern:"/confirm/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.javascript",pattern:"/courses/.*javascript.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.react",pattern:"/courses/.*react.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.python",pattern:"/courses/.*python.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.java",pattern:"/courses/.*java.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.c-plus-plus",pattern:"/courses/.*c-plus-plus.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.exercises.other",pattern:"/courses/.*lessons/.*exercises/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.lessons.other",pattern:"/courses/.*lessons/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"courses.other",pattern:"/courses/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog.language.details",pattern:"/catalog/language/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"catalog",pattern:"/catalog.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.paths",pattern:"/learn/paths/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn.learn-python-3",pattern:"/learn/learn-python-3/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"learn",pattern:"/learn.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"paths.tracks",pattern:"/paths/.*/tracks.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"resources",pattern:"/resources.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"explore.sorting-quiz",pattern:"/explore/sorting-quiz/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"career-journey",pattern:"/career-journey/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"account",pattern:"/account/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"article",pattern:"/article/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"forum_questions",pattern:"/forum_questions/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"profiles.details",pattern:"/profiles/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"journeys.details",pattern:"/journeys/.*?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"search",pattern:"/search/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"login",pattern:"/login/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"home",pattern:"^https?:\\/\\/([a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\\/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"other"}]};var c=window.IntentProperties?window.IntentProperties.namespace||"intent":"blackcrow",i=window.blackcrow||window.intent||{},d;Array.isArray(i)&&(d=i,i={});i.BUNDLE_NAME="codecademy.js";i.BUILD_NUMBER="13126";i.TAG_SRC=window.blackcrowTagSrc||"JS";window.blackcrow=i;window.intent=i;var u=i.SITE_NAME||"codecademy",Ur="init.blackcrow.ai";document.currentScript&&document.currentScript instanceof HTMLElement?Ur=document.currentScript.src.split("/")[2]:i.TAG_SRC==="ShopifyAppExtension"&&(Ur="shopify-init.blackcrow.ai");var m="https://"+Ur+"/";var Xa=`
`;function K(e,t){if(typeof e=="string"){let o=e.split(Xa);return o.splice(1,t),o.join(Xa)}return""}function qr(){return i.TAG_SRC||"JS"}function v(){return qr()==="ShopifyAppExtension"}function V(e,t,o,r){function n(a){typeof r=="function"&&r(a)}try{fetch(e,t).then(a=>{if(a.ok)typeof o=="function"&&o(a);else if(t?.mode!=="no-cors"){let p=`${a.status} ${a.statusText}`;try{a.json().then(f=>{let s=f.errors[0];p=`${s.error_type}: ${s.error_message}`,n(new Error(p))}).catch(()=>{n(new Error(p))})}catch{n(new Error(p))}}}).catch(n)}catch(a){n(a)}}function Tp(){try{return window.location!==window.top.location}catch{return!0}}function Gr(){return v()?window.location.hostname:window.top.location.hostname}function za(){return v()?window.location:Tp()?window.top.location:window.location}function Q(){return za()?.pathname}function A(){return za().href}function te(){return window?.navigator?.userAgent}function Qe(e){return performance&&typeof performance.getEntriesByType=="function"&&performance.getEntriesByType(e)||[]}function Po(){return performance&&typeof performance.now=="function"&&performance.now()||0}function Ze(e,t){let o=globalThis.browser;if(v()&&o){V(e,{method:"POST",keepalive:!0,mode:"no-cors",body:t},()=>{},r=>{i.error(r)});return}window?.navigator?.sendBeacon(e,t)}var Pp=["clicktripz","example","partner"],kp=[".shopifypreview.","localhost.","demo.","staging.","development-","development."],Cp=["localhost","127.0.0.1"];function Np(){let e=Gr();return e===""||Cp.includes(e)}function Op(){let e=Gr(),t=!1;return kp.forEach(o=>{e.indexOf(o)!==-1&&(t=!0)}),t}function qe(e){return Pp.indexOf(e.toLowerCase())!==-1||Np()||Op()}function X(e,t={},o="info"){if(qe(u))return;let r="https://monitor-api.blackcrow.ai/",n=!1,a=parseInt("13126",10)||0,p=JSON.stringify({message:e,status:o,service:"javascript-api",version:a,ddsource:"browser",ddtags:`env:${n?"dev":"production"},version:${a}`,"logger.name":"monitor-api","http.useragent":te(),"view.site":u,...t});Ze(r,p)}function Qa(e){let t=Math.random();(e.overrideSampling||t>=.3&&t<.4)&&X(e.message,{status:e.status||"error","error.kind":e.name,"error.message":e.message,"error.stack":e.stack,"view.url":A(),"view.referrer":document.referrer})}function Rp(e){if(typeof e.stack=="string"&&e.stack)return e.stack;try{throw e}catch(t){return K(t.stack,2)}}function Lp(e){let t=!0;return e.skipNotify&&(t=!1),e.message.indexOf("com.gargoylesoftware.htmlunit")!==-1&&(t=!1),t}function Dp(e,t){let r=`BlackCrow${t?` ${t}`:""} ${e.stack}`;globalThis.console&&(globalThis.console.error?globalThis.console.error(r):globalThis.console.log(r))}function ko(e,t={}){if(!e)return;try{e.stack=Rp(e)}catch{}!1&&Dp(e,t.appName),Lp(e)&&typeof ko.sendErrorToServer=="function"&&ko.sendErrorToServer(e)}ko.sendErrorToServer=Qa;i.error=ko;function Co(e,t){let o=document.createElement("link");o.rel=t,o.href=e,document.head.appendChild(o)}i.TAG_SRC!=="ShopifyAppExtension"&&!window.blackcrowpreconnected&&(Co("https://api.blackcrow.ai/","preconnect"),Co("https://api.blackcrow.ai/","dns-prefetch"),Co(m,"preconnect"),Co(m,"dns-prefetch"),window.blackcrowpreconnected=1);function w(e,t,o){if(e)if(typeof e.length<"u"){for(let r=0,n=e.length;r<n;r+=1)if(t.call(o,e[r],r,e)===!1)return}else{let r=Object.keys(e);for(let n=0,a=r.length;n<a;n+=1)if(t.call(o,e[r[n]],r[n],e)===!1)return}}var Fp="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Za=(e=21)=>{let t="",o=e;for(;o--;)t+=Fp[Math.random()*64|0];return t};var es=Za;function b(e,t){if(v())return window.blackcrow.cookie.get(e);t=t||document.cookie;let o={};return w(t.split(/\s?;\s?/),r=>{let n=r.split(/\s?=\s?/);o[n.shift().trim()]=n.join("=").trim()}),o[e]}var Wr="_bcai_h",Vt="_bcai_i",Hr="_bcai_e",ts="_bcai_t",os="_bcai_up",jr="_bcai_vn",Kr="_bcai_vs",No="_bcai_v",Ut="_bcai_pu",Jr="_bcai_lpv",Yr="_bcai_spv",Oo="_bcai_em",Xr="_bcai_fn",zr="_bcai_ln",Ro="_bcai_ph",rs="_bcai_koc",ns="_bcai_khs",is="_bcai_kps",as="_bcai_pwo_ebc",qt="_bcai_isn",Qr="_bcai_fcpes",Zr="_bcai_ca",en="_bcai_ebc",ss="_bcai_nfs",Lo="_bcai_li",cs="fbclid",Do="_fbc",et="_fbp",Fo="__kla_id";var Gt;function tn(){if(Gt)return Gt;let e=document.location.hostname.split("."),t,o,r=e.length;if(r===1)Gt="";else{for(t=`${ts}${new Date().valueOf()}`;r>2&&(r-=1,o=e.slice(1).join("."),document.cookie=`${t}=${t}; domain=${o}`,t=b(t),document.cookie=`${t}=1; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=${o}`,!!t);)e.shift();Gt=e.join(".")}return Gt}function q(e,t,o){try{let r;if(o){let a=new Date;a.setTime(a.getTime()+o*60*1e3),r=`;expires=${a.toUTCString()}`}else r="";let n=`${e}=${t}${r};domain=${tn()};path=/`;v()?(browser.cookie.set(n),window.blackcrow.cookie.set(e,t)):document.cookie=n}catch{}}var ut;function Ge(){return ut||(ut=b(Vt),ut||(ut=es(),q(Vt,ut,1051200)),ut)}function Bp(e,t){var o,r,n,a,p,f,s,g,_,E;for(o=e.length&3,r=e.length-o,n=t,p=3432918353,s=461845907,E=0;E<r;)_=e.charCodeAt(E)&255|(e.charCodeAt(++E)&255)<<8|(e.charCodeAt(++E)&255)<<16|(e.charCodeAt(++E)&255)<<24,++E,_=(_&65535)*p+(((_>>>16)*p&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*s+(((_>>>16)*s&65535)<<16)&4294967295,n^=_,n=n<<13|n>>>19,a=(n&65535)*5+(((n>>>16)*5&65535)<<16)&4294967295,n=(a&65535)+27492+(((a>>>16)+58964&65535)<<16);switch(_=0,o){case 3:_^=(e.charCodeAt(E+2)&255)<<16;case 2:_^=(e.charCodeAt(E+1)&255)<<8;case 1:_^=e.charCodeAt(E)&255,_=(_&65535)*p+(((_>>>16)*p&65535)<<16)&4294967295,_=_<<15|_>>>17,_=(_&65535)*s+(((_>>>16)*s&65535)<<16)&4294967295,n^=_}return n^=e.length,n^=n>>>16,n=(n&65535)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(n&65535)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,n^=n>>>16,n>>>0}var Mp=4294967295,$p=108;function on(e){return Bp(e||"",$p)/Mp}function U(e={}){let t=Ge(),o=e.name||"",{force:r,allocations:n}=e,a=on(`${t}${o}`);if(r)return n.find(g=>g.name===r)?.value;let p=0,f=[];w(e.allocations,g=>{if(f.push({min:p,max:p+g.percent,value:g.value}),p+=g.percent,p>1)throw new Error("Bucket allocation exceeds 100%")});let s;return w(f,g=>a>=g.min&&a<g.max?(s=g.value,!1):!0),s}function ce(){return document.referrer}function It(){return document.title}function Vp(e,t){let o=t.split("[");return o.length>1?e&&e[o[0]]&&e[o[0]][parseInt(o[1],10)]:e&&e[t]}function S(e,t){if(!(!e||!t||typeof t!="string"))return t.split(".").reduce(Vp,e)}function pt(e,t,o,r,n){!e||!t||typeof t!="string"||(t.indexOf(".")!==-1?(t=t.split("."),pt(e,t.shift(),o,t,n)):!r||r.length===0?(!n||!Object.prototype.hasOwnProperty.call(e,t))&&(e[t]=o):((!n||!Object.prototype.hasOwnProperty.call(e,t))&&(e[t]=e[t]||{}),pt(e[t],r.shift(),o,r,n)))}i.storage=i.storage||{};function Up(e,t){let o=i.storage[e].audience;typeof o=="object"&&t?.audience===!1?i.storage[e]={audience:o}:i.storage[e]={}}function Z(e){e&&(i.storage[e]=i.storage[e]||{});function t(){return i.storage[e]}return{clear:o=>{e==="bound_events"&&o?Up(e,o):i.storage[e]={}},getAll:()=>t()||{},get:o=>S(t(),o),set:(o,r)=>{let n=t();typeof o=="string"?pt(n,o,r):w(o,(a,p)=>{pt(n,p,a)})},push:(o,r)=>{let n=t(),a=S(n,o);Array.isArray(a)?a.push(r):pt(n,o,[r])}}}var fs=Z("page"),us="history";function qp(e,t){return typeof t=="function"?t.toString().replace(/\s+/g," "):t}function ps(){return console.group(`${c} history`),w(fs.get(us),e=>{console.groupCollapsed(e.name),console.log("data",JSON.stringify(e.data,qp,4)),console.log(e.source),console.groupEnd()}),console.groupEnd(),""}function Y(e,t){let o=new Error("");o.name="source",o.stack=K(o.stack,1),fs.push(us,{name:e,data:t,source:o})}var Gp=Object.prototype.toString,rn=Array.prototype.slice;function I(e,...t){return e=e||{},w(t,o=>{w(o,(r,n)=>{let a=Gp.call(r).split(" ").pop();if(a!=="Undefined]"){if(!r||r===r.window||r.nodeType||r._isVue){e[n]=r;return}if(a==="Object]"){e[n]=e[n]||{},I(e[n],r);return}if(a==="Array]"){e[n]=e[n]||[],e[n]=rn.call(e[n]).concat(r);return}if(a==="NodeList]"||a==="HTMLCollection]"){e[n]=e[n]||[],e[n]=rn.call(e[n]).concat(rn.call(r));return}e[n]=r}})},this),e}window.blackcrow.pushedData=window.blackcrow.pushedData||{};function nn(){let e=window.blackcrow.pushedData;e&&(e.setByFacebookIntercept||e.winLocation!==A())&&(window.blackcrow.pushedData={})}function Bo(e){I(window.blackcrow.pushedData,e,{winLocation:A()})}function Mo(e){window.blackcrow.pushedData={...e,winLocation:A()}}function C(e){return S(window.blackcrow.pushedData,e)}var an=Z("events_api_response"),sn=Z("api_config");function bt(e){let t=new Error(e);return t.name="SequencingError",t.status="warn",t.stack=K(t.stack,1),t}var ms=!1,ds=!1;function ls(e,t){if(e){let o=t.get(`data.${e}`);if(typeof o=="string"){let r=o.toLowerCase();return r==="off"||r==="false"?!1:o}return o}return t.get("data")}function cn(e){sn.set("data",e),ds=!0}function D(e){return ds===!1&&i.error(new bt("Attempting to access apiConfig before it has been set!")),ls(e,sn)}function Wt(e){an.set("data",e),ms=!0}function fn(e){return ms===!1&&i.error(new bt("Attempting to access events api response before it has been set!")),ls(e,an)}function un(){return!!fn("history_id")}function Wp(e){let t=new Error(e);return t.name="URIDecodingError",t.status="warn",t.stack=K(t.stack,1),t}function Se(e){let t={};if(typeof e=="string"&&e.length){let o=e.split("?");o.shift(),o=o.join("?"),o=o.split("#")[0],w(o.split("&"),r=>{let n=r;try{n=decodeURIComponent(n)}catch{i.error(new Wp(`Unable to decode URI component: ${n}`))}let a=n.indexOf("="),p=a>0?[n.slice(0,a),n.slice(a+1)]:[n];typeof p[1]<"u"&&(t[p[0]]=p[1])})}return t}function W(e,t){return t?Se(t)[e]:Se(A())[e]}var gs="config.visitor.query_string";function Hp(e){let t=e?S(e,gs):D(gs);return t?{param:t.param,separator:t.separator,index:t.index}:{}}function jp(e){let t=e.param;if(t)return W(t)}function Kp(e,t){let o=t.separator,r=t.index;return o&&r?e.split(o)[r]||void 0:e}function _s(e){let t=Hp(e),o=jp(t);if(o)return Kp(o,t)}var pn,mn;function Jp(){let e,t=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga;return t&&typeof t.getAll=="function"&&w(t.getAll(),o=>{try{let r=o.get("clientId");if(r)return e=r,!1}catch{}}),e}function Yp(){if(typeof mn<"u")return mn;let e,t=b("_ga");if(t){let o=t.split(".");o.shift(),o.shift(),e=o.join(".")}return mn=e,e}function tt(e){if(pn)return pn;let t=C("google_id")||_s(e)||window.gaGlobal&&window.gaGlobal.vid||Jp()||Yp();return pn=t,t}var hs="blackcrow",ys="cookie",Es="global",ws="google",dn="pushed_data";var mt,Ie=hs.toUpperCase(),be=No,$o=!1;function vs(e,t,o){q(No,e,1051200),q(Kr,t,1051200),q(jr,o,1051200)}function At(){if(mt)return{id:mt,source:Ie,name:be,fallback:$o};if(mt=b(No),mt)return Ie=b(Kr)||Ie,be=b(jr)||be,vs(mt,Ie,be),{id:mt,source:Ie,name:be,fallback:$o};let e=D("config.visitor.id_source"),t=D("config.visitor.id_name"),o=C("visitor_id");if(o&&(Ie=dn.toUpperCase(),be="visitor_id"),e===ys){let r=b(t);r&&(o=r,Ie=e.toUpperCase(),be=t)}else if(e===Es){let r=S(window,t);r&&(o=r,Ie=e.toUpperCase(),be=t)}else if(e===dn){let r=C(t);r&&(o=r,Ie=e.toUpperCase(),be=t)}else if(e===ws){let r=tt();r&&(o=r,Ie=e.toUpperCase(),be=t)}return o||(o=Ge(),$o=!0),mt=o,vs(o,Ie,be),{id:o,source:Ie,name:be,fallback:$o}}function Xp(e){(e.overrideSampling||U({name:"error_sampling",allocations:[{percent:.1,value:!0}]}))&&X(e.message,{status:e.status||"error","error.kind":e.name,"error.message":e.message,"error.stack":e.stack,"usr.id":At().id,"view.url":C("page_url")||A(),"view.referrer":C("page_referrer_url")||ce()}),Y(e.name,e)}function Ss(){i.error.sendErrorToServer=Xp}function zp(e){let t={name:"other",major:0,minor:0};if(/googlebot/.test(e)||/adsbot/.test(e)||/bingbot/.test(e)||/bingpreview/.test(e)||/slurp/.test(e)||/storebot/.test(e)||/spider/.test(e)||/crawler/.test(e)||/yandexbot/.test(e)||/ptst[ \/]/.test(e)||/externalhit/.test(e))return t.name="bot",t;let r=/(msie) ([\w.]+)/.exec(e)||/(ucbrowser)[ \/]([\w.]+)/.exec(e)||/(miuibrowser)[ \/]([\w.]+)/.exec(e)||/(opera mini)[ \/]([\w.]+)/.exec(e)||/(opr)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(firefox)[ \/]([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+))?/.exec(e)||/(edg)[ \/]([\w.]+)/.exec(e)||/(edge)[ \/]([\w.]+)/.exec(e);if(r){r[1]==="opr"?r[1]="opera":r[1]==="trident"?r[1]="msie":r[1]==="edg"&&(r[1]="edge"),t.name=r[1].replace(/\s+/,"");let n=(r[2]||"").split(/\.|-|_/);t.major=parseInt(n[0],10)||0,t.minor=parseInt(n[1],10)||0}return t}function Qp(e){return!!(e.match(/ipad/)||e.match(/android/)&&!e.match(/mobi|mini|fennec/)||e.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}function Zp(e){return!!e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}function em(e){return Zp(e)?"mobile":Qp(e)?"tablet":"desktop"}function dt(e){e=e||"";let t=e.toLowerCase();return{browser:zp(t),deviceType:em(t)}}function Fe(e){let t=new Error(e);return t.name="NotSupportedError",t.status="warn",t.stack=K(t.stack,1),t}function tm(){try{return!new Error("")}catch(e){return e}}function om(){let e=tm();if(e)throw e.name="NotSupportedError",e.status="warn",e.message="Missing feature: errorConstructor",e}function rm(){let{browser:e}=dt(te());if(typeof e=="object"){let t=e.name,o=e.major;if(t==="bot"||t==="msie"||t==="edge"&&o<15||t==="firefox"&&o<54||t==="chrome"&&o<42||t==="safari"&&o<10||t==="ucbrowser"||t==="miuibrowser"||t==="opera"&&o<38||t==="operamini")return!1}return!0}function nm(e){let t=e?.config?.loadBundleWithShopifyWebPixel??!0;return v()?t:!0}function ln(e,t){if(!rm())throw new Fe("Browser not supported");nm(e)&&(om(),t())}function Ht(e,t,o){if(e){let n=(e.options||{}).origEvent||{};if(clearTimeout(n.timeout),typeof e.callback=="function"&&!n.timeoutReached){try{e.callback(t)}catch(a){i.error(a)}typeof o=="function"&&o()}}}var im=Z("bound_events"),am=Z("triggered_events");function T(e,t,o,r={}){let n={appName:e,eventName:t,callback:o,options:r};im.push(`${e}.${t}`,n),w(am.get(`${e}.${t}`),a=>{Ht(n,a.data,a.onExec)})}function pe(e,t){let o=new Error(e);return o.name=`${t||""}RequestError`,o.skipNotify=!0,o.stack=K(o.stack,1),o}function Vo(e,t,o){return function(...n){try{return e.apply({},n)}catch(a){o&&o.interval&&clearInterval(o.interval),i.error(a,{appName:t})}}}function sm(e,t,...o){let r={},n=setInterval.apply(globalThis,[Vo(e,this.appName,r),t].concat(o));return r.interval=n,n}function cm(e,t,...o){return setTimeout.apply(globalThis,[Vo(e,this.appName),t].concat(o))}function fm(e,t,o,r){let n=o.wrapped||Vo(o,this.appName);o.wrapped=n,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent(t,n)}function um(e,t,o,r){o?e.removeEventListener(t,o.wrapped,r):e.removeEventListener(t)}var y={fn:Vo,addListener:fm,removeListener:um,setInterval:sm,setTimeout:cm};function G(e,t,o,r){function n(f){let s=new pe(f.message,t.servletName);i.error(s,{customDimensions:{url:e}}),typeof r=="function"&&y.fn(r)(s)}function a(f){if(typeof f!="object"){n(new Error("JSON is not an object"));return}typeof o=="function"&&y.fn(o)(f||{})}function p(f){f.json().then(y.fn(a)).catch(s=>{n(new Error(`Invalid JSON ${s.message}`))})}V(e,t,p,n)}function gn(){let e=Math.round(Po());if(!e||e<1)return"0";if(e<10)return"10";let t="0";return w(`${e}`,(o,r)=>{r===0?t=o:t+="0"}),t}var Uo=document.documentElement,Is=window.screen,_n=Math.max;function bs(){let e=window?.innerHeight+window?.scrollY||0;return _n(Uo?.offsetHeight,Uo?.scrollHeight,e)}function As(){return v()?window.outerHeight:Is?.height}function xs(){return v()?window.outerWidth:Is?.width}function lt(){return _n(window.pageYOffset,Uo?.scrollTop)}function Ts(){return _n(Uo?.clientWidth,window.innerWidth)}async function jt(e){try{let t=v()?await globalThis.browser.localStorage.get(e):window.localStorage.getItem(e);return JSON.parse(t)}catch{}return null}function Be(e){try{let t=v()?window.blackcrow.localStorage.get(e):window.localStorage.getItem(e);return JSON.parse(t)}catch{}return null}async function oe(e){try{if(v()){let t=await globalThis.browser.sessionStorage.getItem(e);return JSON.parse(t)}return JSON.parse(window.sessionStorage.getItem(e))}catch{}return null}var hn,yn;function pm(){if(typeof yn<"u")return yn;let e,t=b(et);if(t){let o=t.split(".");o.shift(),o.shift(),e=o.join(".")}return yn=e,e}function Ps(){if(hn)return hn;let e=C("facebook_id")||pm();return hn=e,e}var En;function mm(){let e=S(window,"Shopify.checkout.customer_id")||S(window,"ShopifyAnalytics.meta.page.customerId")||S(window,"__st.cid");if(e)return e.toString()}function ks(){if(En)return En;let e=mm();return En=e,e}var wn;function dm(){try{return JSON.parse(window.atob(b(Fo))).$exchange_id}catch{return}}function gt(){if(wn)return wn;let e=dm();return wn=e,e}function Cs(){return window?.ju_config?.ju_vid}function Ns(){return window?.bouncex?.cookie?.hardID}function Os(){return window?.bouncex?.cookie?.softID}function Rs(){return window?.edgemesh?.id}function me(e,t){try{t&&(v()?(window.blackcrow.localStorage.set(e,JSON.stringify(t)),browser.localStorage.setItem(e,JSON.stringify(t))):window.localStorage.setItem(e,JSON.stringify(t)))}catch{}}function ot(e){return`${Math.random().toString(36).substring(2,3)}${btoa(e)}`}function _t(e){return e?atob(e.substring(1)):void 0}function Kt(e){try{return document.querySelectorAll(`:is(${e})`)}catch{}try{return document.querySelectorAll(`:matches(${e})`)}catch{}try{return document.querySelectorAll(`:-webkit-any(${e})`)}catch{}try{return document.querySelectorAll(`:-moz-any(${e})`)}catch{return[]}}function Ls(e){y.addListener(window,"message",t=>{if(t.origin&&t.origin.indexOf(".attn.tv")>0){let o=t.data.__attentive||{};o&&o.email&&e(o.email)}})}function Ds(e){let t=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=email]");t&&o&&y.addListener(t,"click",()=>{e(o[0]&&o[0].value)})}function qo(){return S(window,"ShopifyCustomer.email")||S(window,"Shopify.checkout.email")||S(window,"Shopify.Checkout.customer.email")}function Fs(){return S(window,"userProperties.email")}function Bs(){let e=S(window,"_learnq");if(e&&typeof e.identify=="function")return e.identify().$email}function Sn(e){if(e)return e.trim()}function In(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)}function bn(e){let t=Sn(e);return t&&In(t)?t:void 0}function An(e){let t=bn(e);return t?ot(t):void 0}function xt(e){let t=An(e);t&&me(Oo,t)}function lm(e,t=()=>{}){e.value&&t(e.value)}function gm(e,t){let o=e.textContent||e.innerText;return o&&(o=o.toLowerCase()),o&&o.indexOf(t.toLowerCase())!==-1}function vn(e){return gm(e,"email")}function _m(e){if(e.labels){if(Array.from(e.labels).some(o=>vn(o)))return!0}else if(e.id&&Array.from(document.getElementsByTagName("label")).some(o=>o.htmlFor===e.id&&vn(o)))return!0;if(e.parentNode){let t=e.parentNode;return t.tagName.toLowerCase()==="label"&&vn(t)}return!1}function hm(e){return Array.from(e).filter(o=>_m(o))}var Ms='input[type="email"], input[autocomplete~="email"], input[placeholder~="email" i], input[type="text"][id*="email" i], input[type="text"][name*="email" i]';function xn(){let e=Kt(Ms);if(!e.length){let t=document.querySelectorAll('input[type="text"]');t.length&&(e=hm(t))}return e}function Go(e=()=>{}){let t=xn();w(t,o=>{lm(o,e)}),y.addListener(window,"focusout",o=>{let r=o.target;if(r.matches(Ms)||Array.isArray(t)&&t.includes(r)){let n=r.value;n&&e(n)}})}function $s(e){let t=qo()||Fs()||Bs();t&&e(t),Ls(o=>{e(o)}),Ds(o=>{e(o)}),Go(o=>{e(o)})}function Vs(e=()=>{}){let t=qo()||Fs()||Bs();return t?(xt(t),e()):(Ls(o=>{xt(o)}),Ds(o=>{xt(o)}),Go(o=>{xt(o),e()})),t}function fe(){let e=Be(Oo)||b(Oo);return e?_t(e):void 0}function rt(e,t){var o=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(o>>16);return r<<16|o&65535}function ym(e,t){return e<<t|e>>>32-t}function Wo(e,t,o,r,n,a){return rt(ym(rt(rt(t,e),rt(r,a)),n),o)}function re(e,t,o,r,n,a,p){return Wo(t&o|~t&r,e,t,n,a,p)}function ne(e,t,o,r,n,a,p){return Wo(t&r|o&~r,e,t,n,a,p)}function ie(e,t,o,r,n,a,p){return Wo(t^o^r,e,t,n,a,p)}function ae(e,t,o,r,n,a,p){return Wo(o^(t|~r),e,t,n,a,p)}function Em(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var o,r,n,a,p,f=1732584193,s=-271733879,g=-1732584194,_=271733878;for(o=0;o<e.length;o+=16)r=f,n=s,a=g,p=_,f=re(f,s,g,_,e[o],7,-680876936),_=re(_,f,s,g,e[o+1],12,-389564586),g=re(g,_,f,s,e[o+2],17,606105819),s=re(s,g,_,f,e[o+3],22,-1044525330),f=re(f,s,g,_,e[o+4],7,-176418897),_=re(_,f,s,g,e[o+5],12,1200080426),g=re(g,_,f,s,e[o+6],17,-1473231341),s=re(s,g,_,f,e[o+7],22,-45705983),f=re(f,s,g,_,e[o+8],7,1770035416),_=re(_,f,s,g,e[o+9],12,-1958414417),g=re(g,_,f,s,e[o+10],17,-42063),s=re(s,g,_,f,e[o+11],22,-1990404162),f=re(f,s,g,_,e[o+12],7,1804603682),_=re(_,f,s,g,e[o+13],12,-40341101),g=re(g,_,f,s,e[o+14],17,-1502002290),s=re(s,g,_,f,e[o+15],22,1236535329),f=ne(f,s,g,_,e[o+1],5,-165796510),_=ne(_,f,s,g,e[o+6],9,-1069501632),g=ne(g,_,f,s,e[o+11],14,643717713),s=ne(s,g,_,f,e[o],20,-373897302),f=ne(f,s,g,_,e[o+5],5,-701558691),_=ne(_,f,s,g,e[o+10],9,38016083),g=ne(g,_,f,s,e[o+15],14,-660478335),s=ne(s,g,_,f,e[o+4],20,-405537848),f=ne(f,s,g,_,e[o+9],5,568446438),_=ne(_,f,s,g,e[o+14],9,-1019803690),g=ne(g,_,f,s,e[o+3],14,-187363961),s=ne(s,g,_,f,e[o+8],20,1163531501),f=ne(f,s,g,_,e[o+13],5,-1444681467),_=ne(_,f,s,g,e[o+2],9,-51403784),g=ne(g,_,f,s,e[o+7],14,1735328473),s=ne(s,g,_,f,e[o+12],20,-1926607734),f=ie(f,s,g,_,e[o+5],4,-378558),_=ie(_,f,s,g,e[o+8],11,-2022574463),g=ie(g,_,f,s,e[o+11],16,1839030562),s=ie(s,g,_,f,e[o+14],23,-35309556),f=ie(f,s,g,_,e[o+1],4,-1530992060),_=ie(_,f,s,g,e[o+4],11,1272893353),g=ie(g,_,f,s,e[o+7],16,-155497632),s=ie(s,g,_,f,e[o+10],23,-1094730640),f=ie(f,s,g,_,e[o+13],4,681279174),_=ie(_,f,s,g,e[o],11,-358537222),g=ie(g,_,f,s,e[o+3],16,-722521979),s=ie(s,g,_,f,e[o+6],23,76029189),f=ie(f,s,g,_,e[o+9],4,-640364487),_=ie(_,f,s,g,e[o+12],11,-421815835),g=ie(g,_,f,s,e[o+15],16,530742520),s=ie(s,g,_,f,e[o+2],23,-995338651),f=ae(f,s,g,_,e[o],6,-198630844),_=ae(_,f,s,g,e[o+7],10,1126891415),g=ae(g,_,f,s,e[o+14],15,-1416354905),s=ae(s,g,_,f,e[o+5],21,-57434055),f=ae(f,s,g,_,e[o+12],6,1700485571),_=ae(_,f,s,g,e[o+3],10,-1894986606),g=ae(g,_,f,s,e[o+10],15,-1051523),s=ae(s,g,_,f,e[o+1],21,-2054922799),f=ae(f,s,g,_,e[o+8],6,1873313359),_=ae(_,f,s,g,e[o+15],10,-30611744),g=ae(g,_,f,s,e[o+6],15,-1560198380),s=ae(s,g,_,f,e[o+13],21,1309151649),f=ae(f,s,g,_,e[o+4],6,-145523070),_=ae(_,f,s,g,e[o+11],10,-1120210379),g=ae(g,_,f,s,e[o+2],15,718787259),s=ae(s,g,_,f,e[o+9],21,-343485551),f=rt(f,r),s=rt(s,n),g=rt(g,a),_=rt(_,p);return[f,s,g,_]}function wm(e){var t,o="",r=e.length*32;for(t=0;t<r;t+=8)o+=String.fromCharCode(e[t>>5]>>>t%32&255);return o}function vm(e){var t,o=[];for(o[(e.length>>2)-1]=void 0,t=0;t<o.length;t+=1)o[t]=0;var r=e.length*8;for(t=0;t<r;t+=8)o[t>>5]|=(e.charCodeAt(t/8)&255)<<t%32;return o}function Sm(e){return wm(Em(vm(e),e.length*8))}function Im(e){var t="0123456789abcdef",o="",r,n;for(n=0;n<e.length;n+=1)r=e.charCodeAt(n),o+=t.charAt(r>>>4&15)+t.charAt(r&15);return o}function bm(e){return unescape(encodeURIComponent(e))}function Am(e){return Sm(bm(e))}function xm(e){return Im(Am(e))}function Tn(e){return xm(e)}function nt(e){return(D("experiments")||[]).find(o=>o.name===e)||{}}var Us={checkout_abandonment:"ca",klaviyo_overlay:"ko",sticky_call_to_action:"pb"};function Ae(e){let t=nt(e);if(!t.name)return t;let o=Se(A());function r(a,p){let f,s;if(Array.isArray(a)&&a.length&&a[0].value&&typeof a[0].percent=="number")f=`${e}_${p}`,s=a;else if(a.allocations){let g=a.name||p;f=`${e}_${g}`,s=a.allocations}if(f&&s){let g=Us[e]||e,_=a.short_name||p;return U({name:f,allocations:s,force:o[`bcai_${g}_${_}`]})}return a}function n(a,p){if(!a)return a;let f=Array.isArray(a)?[]:{},s;return Object.keys(a).forEach(g=>{let _=p?`${p}_${g}`:g;s=r(a[g],_),f[g]=typeof s=="object"?n(s,_):s}),f}return{name:t.name,active:t.active,data:n(t.data)}}function Pn(){if(Ae("pwo_additional_context")?.active){let t=fe();if(t)return Tn(`${t}bcai${u}`)}}function qs(){return window?.__fudge__?.deviceId}var Gs=e=>async()=>{try{return C(e)||await oe(e)||await jt(e)||b(e)}catch(t){i.error(t);return}},Ho=e=>()=>b(e),ee=(e,t)=>{let o;return async()=>{try{return o=o||await t(),{platform:e,id:o}}catch(r){i.error(r);return}}},Tm=ee("fa",Ps),Pm=ee("ga",tt),km=ee("cdp",Gs("cdp_id")),Cm=ee("shop_cid",ks),Nm=ee("shop_aid",Ho("_shopify_y")),Om=ee("kl_cid",gt),Rm=ee("attv_cid",Ho("__attentive_id")),Lm=ee("ju_cid",Cs),Dm=ee("bx_hid",Ns),Fm=ee("bx_sid",Os),Bm=ee("tab_cid",Gs("taboola global:user-id")),Mm=ee("bc_cid",Ho(Vt)),$m=ee("_bc_i",Ge),Vm=ee("_bt_uid",Ho("tag_user_id")),Um=ee("_bc_em",Pn),qm=ee("edme_id",Rs),Gm=ee("fdg_id",qs);async function kn(){try{return[await Tm(),await Pm(),await km(),await Cm(),await Nm(),await Om(),await Rm(),await Bm(),await Mm(),await $m(),await Lm(),await Dm(),await Fm(),await Vm(),await Um(),await qm(),await Gm()]}catch(e){return i.error(e),[]}}var Ws;function Cn(){return Ws||b(Wr)||void 0}function Hs(e){e&&(Ws=e,q(Wr,e,1051200))}function js(){let e=Cn()?.split("_",3);if(e)return{page_correlation_id:e[0],session_id:e[1]};i.error(new bt("Attempted to parse historyId before it has been set!"))}var Jt=Z("page"),Wm={page:{ignored:!1,log_purchase:!1}};function Ks(e){return{page:{ignored:e.ignored,log_purchase:e.log_purchase}}}function Js(e={},t){let o=C("page_id"),r=Wm;o!==void 0&&e?w(e.filter(f=>f.pageName),f=>{if(f.pageName===o)return r=Ks(f),!1}):o===void 0&&e&&w(e.filter(f=>f.pattern),f=>{try{let s=t.match(f.pattern);if(s){if(o=f.pageName,r=Ks(f),s.length>1)for(let g=1;g<s.length;g+=1)o=o.replace(`$${g}`,s[g]);return!1}}catch{}}),o||(o="other");let n=Jt.get("lastUrl"),a=Jt.get("lastId"),p=o!==a||t!==n;return Jt.set("lastUrl",t),Jt.set("lastId",o),{id:o,config:r,isNewPage:p,currentUrl:t,lastUrl:n}}function xe(){return Jt.get("lastId")}var Ys={};function Xs(e){Ys=e}function zs(e,t,o){let r={};return w(Ys,(n,a)=>{typeof n=="function"?r[a]=n(e[a],t,o):typeof n<"u"&&(r[a]=n)}),r}function Hm(e,t){return t||(e==="_shopify_y"?"aid":e)}function jm(e){let t,o=e.value,r=e.nameOverride,n=b(o);return o&&n&&(t={name:Hm(o,r),value:n}),t}function z(e){let t=[];return e.forEach(o=>{if(o.source==="cookie"){let n=jm(o);n&&t.push(n)}}),t}function Te(e,t){let o=[];return e&&t&&o.push({name:e,value:t}),o}function Km(){let e="0123456789abcdef";return e.charAt(Math.floor(Math.random()*e.length))}function Yt(e){return new Array(e).fill(".",0,e).map(()=>Km()).join("")}function Xt(){return`${Yt(8)}-${Yt(4)}-${Yt(4)}-${Yt(4)}-${Yt(12)}`}function Tt(e){return e!==void 0?(e*.01).toLocaleString("en-US",{currency:"USD",minimumFractionDigits:2,useGrouping:!1}):void 0}function zt(e){return e?typeof e=="string"?Tt(e.replace(/\D/g,"")*1):e.toString():"0.00"}function jo(e){let[t]=z(e);if(t?.value)return{external_id:t.value}}function Qs(){let e=document.getElementById("shopify-pay-alternate-title");if(S(window,"ShopifyPay")&&e)return{custom_dimensions:{payment_type:"shop-pay"}};if(S(window,"Shopify.checkout")){let t=document.getElementsByClassName("payment-icon");if(t.length&&t[0].textContent)return{custom_dimensions:{payment_type:t[0].textContent.trim()}}}}function Nn(){let e={},t=S(window,"Shopify.checkout");if(t&&(I(e,{event_id:t.order_id,total_price:zt(t.total_price),currency:t.presentment_currency,shipping_method:t.shipping_rate?.title,shipping_price:zt(t.shipping_rate?.price),cart:t.line_items&&t.line_items.map(o=>({id:o.product_id,price:zt(o.price),quantity:o.quantity,categories:[o.title],msrp:zt(o.line_price),color:o.variant_title,brand:o.vendor}))}),t.discount)){let o=t.discount;I(e,{discounts:[{code:o.code,discount_amount:o.amount,discount_currency:t.currency,discount_percent:o.rate,applicable:o.applicable,reason:o.reason}]})}return e}function On(e){return{destination_airport:e.destination_airport,destination_city:e.destination_city,destination_country:e.destination_country,destination_state:e.destination_state,end_date:e.end_date,lodging_id:e.lodging_id,origin_airport:e.origin_airport,rooms:e.rooms,start_date:e.start_date,travelers:e.travelers}}function Rn(){return C("partner_controlled_experiments")}var Jm=.1,Zs=U({name:"performance_sampling",allocations:[{percent:Jm,value:!0}]});function Qt(e=`${m}js/core/`){try{let t=Qe("resource").find(o=>o.name.includes(e));return t&&t.startTime}catch{i.error(new Fe("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Ym(){try{let e=Qe("resource").find(t=>t.name.includes("gtm.js"));return e&&e.startTime}catch{i.error(new Fe("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function ec(){try{let e=Qe("resource").find(t=>t.name.includes(`${m}js/core/`));if(e){let{name:t}=e;if(t.includes("shopify-init"))return"SHOPIFY";if(t.includes("source=gtm"))return"GTM"}return"JS"}catch{i.error(new Fe("Unable to get start time: Browser does not support PerformanceResourceTiming interface"));return}}function Xm(){let e=Qt(),t=ec();if(e&&t==="GTM"){let o=Ym();if(o)return e-o}}function zm(){try{let e=Qe("resource").find(t=>t.name.includes("https://api.blackcrow.ai/v1/events/view"));return e&&e.startTime}catch{i.error(new Fe("Unable to get time to view request: Browser does not support PerformanceResourceTiming interface"));return}}function tc(){if(Zs){let e=Qt(),t=ec()||"unknown",o=t==="GTM"?Xm()||"unknown":"N/A";e&&X(`Initial script load after ${e} ms`,{"script.start_time":e,"script.load_method":t,"script.time_since_gtm_start":o,"view.url":C("page_url")||A(),"view.referrer":C("page_referrer_url")||ce()})}}function oc(){if(Zs){let e=zm()-Qt();e&&X(`Time to initiate view request: ${e} ms`,{"script.time_to_view":e,"view.url":C("page_url")||A(),"view.referrer":C("page_referrer_url")||ce()})}}function rc(){return{nb:{active:!!window.Northbeam},tw:{active:!!window.TriplePixel},bt:{active:!!window.edgetag}}}var P={VIEW:"view",PURCHASE:"purchase",DELAYED_PURCHASE:"delayed_purchase",BAD_ACTOR_TIMEOUT:"bad_actor_timeout",BAD_ACTOR_BEFOREUNLOAD:"bad_actor_beforeunload",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",PWO_DECISION:"pwo_decision",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",CA_TEST:"ca_test",DEVICE_MOTION:"device_motion",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",MARKETING_CHECKOUT_EVENT:"marketing_checkout_event",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",KLAVIYO_SPLIT:"klv_split",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",OUT_OF_STOCK:"out_of_stock",PAYMENT_METHOD_CLICK:"payment_method_click",HEADER_CLICK:"header_click",PREDICTIVE_BUTTON:"predictive_button",PREDICTIVE_BUTTON_DECISION:"predictive_button_decision",PRED_WELCOME_DECISION:"pred_welcome_decision",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_OPEN_ATTEMPT:"pred_welcome_open_attempt",PRED_WELCOME_OPEN_LISTENER_SET:"pred_welcome_open_listener_set"};function Ko(){return{api_client_type:"JS",api_client_version:"13126",api_client_source:qr()}}function Me(e){let t=C(`custom_${e}`);return typeof t=="object"?Array.isArray(t)?String(t):JSON.stringify(t):t}function Qm(e,...t){return e=e||{},w(t,o=>{w(o,(r,n)=>{(r||r===0||r===!1)&&(e[n]=r)})}),e}function Zm(){return{coupon:C("coupon"),shipping_method:C("shipping_method"),shipping_price:C("shipping_price"),total_price:C("total_price"),zip_code:C("zip_code"),custom_1:Me(1),custom_2:Me(2),custom_3:Me(3),custom_4:Me(4),custom_5:Me(5),custom_6:Me(6),custom_7:Me(7),custom_8:Me(8),custom_9:Me(9),custom_10:Me(10),traffic_groups:C("traffic_groups"),partner_controlled_experiments:Rn(),referrer_source:C("referrer_source"),referrer_medium:C("referrer_medium"),referrer_campaign:C("referrer_campaign"),referrer_term:C("referrer_term"),cart:C("cart"),currency:C("currency"),is_logged_in_user:C("user_is_logged_in"),user_has_subscription:C("user_has_subscription")}}async function ed(e){try{let t=At();return{metadata:Ko(),build:"13126",site_name:u,custom_dimensions:C("custom_dimensions"),device_info:te(),device_width:xs(),device_height:As(),page_id:e,page_url:C("page_url")||A(),page_referrer_url:C("page_referrer_url")||ce(),page_title:C("page_title")||It(),page_time:gn(),visitor_id:t.id,internal_id:Ge(),member_id:C("member_id"),history_id:Cn(),user_identifiers:await kn(),user_metadata:{visitor_id:{source:t.source,name:t.name,fallback_used:t.fallback}},bundle_load_start:Qt(),attr:rc()}}catch(t){return i.error(t),{}}}function td(e){return e?["view","purchase","delayed_purchase"].includes(e):!0}function od(e){return e?["view","purchase"].includes(e):!0}function rd(e){return e?e==="purchase":!0}var nd={travel:On};function id(){let e={};return w(nd,(t,o)=>{let r=C(`${o}`);r&&(e[o]=t(r))}),e}function ad(e){["custom_dimensions","event_id"].forEach(o=>{e[o]===void 0&&(e[o]="")})}function sd(e){return[P.PWO_DECISION,P.PWO_OPEN_ATTEMPT,P.PWO_IMPR,P.PWO_EMAIL_LEAD,P.PWO_SMS_LEAD,P.PWO_CLOSE].includes(e)}async function Ln(e,t={}){try{let o=t.page_id||xe(),r=await ed(o);return td(e)&&(r={...r,...Zm()},I(r,id(),Nn())),rd(e)&&r.purchase_type===void 0&&(r.purchase_type=""),sd(e)&&(r={...r,...t}),ad(r),w(r,(n,a)=>{typeof t[a]<"u"&&(r[a]=t[a])}),od(e)||I(r,{custom_dimensions:js()}),Qm({},r,zs(r,e,o))}catch(o){return i.error(o),{}}}var cd=500,Dn={},Fn={};function Bn(){Fn={},Dn={}}function nc(e){return Fn[e]||0}function fd(e){let t=!1,o=e==="view"?1:D(`config.events.${e}.dedupe.limit_per_page`);return o&&(t=nc(e)>=o),t?"limit_per_page":""}function ud(e,t){return e.startsWith("datalayer-")||[P.PREDICTIVE_BUTTON,P.KLAVIYO_OPEN].includes(e)?"":t-(Dn[e]||0)<cd?"debounce":""}function pd(e,t,o){let r="",n=t.event_id,a=D(`config.events.${e}.dedupe.time_threshold`);if(n||a){let p=Be(Hr)||{},f=p[e]||{};a&&o-(f.time||0)<parseInt(a,10)&&(r="time_threshold"),!r&&n&&n===f.id&&(r="repeat_id"),r||(p[e]={time:o,id:n},me(Hr,p))}return r}function ic(e,t){let o=Date.now(),r=ud(e,o)||fd(e)||pd(e,t,o);return r||(Fn[e]=nc(e)+1,Dn[e]=o),r}var Mn="EventsAPI";async function L(e,t,o,r){try{let n=`https://api.blackcrow.ai/v1/events/${e}?`;qe(u)&&(n=`https://api.sandbox.blackcrow.ai/v1/events/${e}?`);let a=await Ln(e,t),p=ic(e,a);if(p){i.error(new pe(`Duplicate ${e}: ${p}`,Mn));return}let f=JSON.stringify(a),s={servletName:Mn,method:"POST",cache:"no-cache",body:f};Y(`request: ${e}`,{body:f}),G(n,s,o,r)}catch(n){i.error(new pe(n,Mn))}}function ac(e){let t="https://api.blackcrow.ai/v1/events/platform?";qe(u)&&(t="https://api.sandbox.blackcrow.ai/v1/events/platform?");let o=JSON.stringify(e);Ze(t,o)}var h={START:"start",SESSION:"session",SET:"set",EXTEND:"extend",REFRESH:"refresh",PARTNER_EVENT:"partner_event",VIEW:"view",VIEW_RESPONSE:"view_response",PURCHASE:"purchase",SCORES_UPDATE:"scores_update",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",OVERRIDES:"overrides",CLEAR_OVERRIDES:"clear_overrides",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",OUT_OF_STOCK:"out_of_stock",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",HEADER_CLICK:"header_click",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",PAYMENT_METHOD_CLICK:"payment_method_click",PREDICTIVE_BUTTON:"predictive_button",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",ADD_TO_CART:"add_to_cart",INITIATE_CHECKOUT:"initiate_checkout"};var md=["purchase","referral","call","update_account"],dd=["purchase","referral","call"];function sc(e){return md.indexOf(e)!==-1}function ld(e){let t=e.trigger,o=e.data||{};t==="call"&&(o.purchase_type="call"),dd.indexOf(t)!==-1&&(t=P.PURCHASE),L(t,o)}function cc(){T("platform",h.PARTNER_EVENT,ld)}function $n({appName:e,eventName:t,data:o,sendFn:r}){let n={namespace:c,app_name:e,event_name:t,data:o};if(r)r(n,"*");else try{window.top.postMessage(n,"*")}catch(a){if(a instanceof DataCloneError)i.error(new Fe("Attempting to post invalid message object"));else throw a}}var gd=Z("bound_events"),_d=Z("triggered_events");function se(e,t,o,r){r=r||{},r.noCache||_d.push(`${e}.${t}`,{data:o,onExec:r.onExec});let n=gd.get(`${e}.${t}`);w(n,a=>{Ht(a,o,r.onExec)}),r.postMessage&&$n({appName:e,eventName:t,data:o})}function N(e,t=()=>{},o=9,r=300,n=!1){try{return e()}catch(a){return o?y.setTimeout(()=>N(e,t,o-1,n?r*2:r,n),r):t(a)}}function hd(){v()||(i.postMessageEventListener&&y.removeListener(window,"message",i.postMessageEventListener),i.postMessageEventListener=e=>{let t=e.data||{};t.namespace===c&&(Y(`trigger: ${t.event_name}`,t.data),se(t.app_name||"platform",t.event_name,t.data))},y.addListener(window,"message",i.postMessageEventListener))}function Pt(e){if(!e)return;let t=e.app_name||"platform",o=e.data,r=e.trigger;if(r){Y(`trigger: ${r}`,e),r===h.EXTEND?Bo(o):r===h.SET?Mo(o):sc(r)?se(t,h.PARTNER_EVENT,e):se(t,r,o);return}let n=e.bind;if(n){Y(`bind: ${n}`,e),T(t,n,e.callback,{origEvent:e});return}Y("unrecognized",e)}function fc(){w(d,e=>{Pt(e)})}function uc(){return N(()=>hd(),e=>i.error(e)),Pt}function Vn(){uc(),i.push=Pt,i.history=ps}var pc="IntentProperties";function We(e){return e?S(window[pc],e):window[pc]}function Un(){let e=We();if(e){let t={page_id:e.page_id,visitor_id:e.visitor_id||e.publisher_user_id,member_id:e.member_id,user_is_logged_in:e.is_logged_in_user,user_has_subscription:e.user_has_subscription,page_url:e.page_url,page_referrer_url:e.page_referrer_url,page_title:e.page_title,referrer_source:e.referrer_source,site_currency:e.site_currency,site_country:e.site_country,site_language:e.site_language,site_name:e.site_name,traffic_groups:e.traffic_groups,custom_1:e.site_custom_1,custom_2:e.site_custom_2,custom_3:e.site_custom_3,custom_4:e.site_custom_4,custom_5:e.site_custom_5,custom_6:e.site_custom_6,custom_7:e.site_custom_7};e.cart&&(t.cart=e.cart),e.travel&&(t.travel=I({},{start_date:e.travel.start_date,end_date:e.travel.end_date,origin_airport:e.travel.origin_airport,destination_airport:e.travel.destination_airport,travelers:e.travel.travelers})),Pt({trigger:h.EXTEND,data:t})}}var yd=Z("bound_events"),Ed=Z("triggered_events");function qn(){yd.clear(D("config.clearBindings")),Ed.clear()}function Zt(){let e=S(window,"Shopify.checkout.total_tax");if(e)return e;let t=document.querySelectorAll("[data-checkout-total-taxes-target]");return t.length?t[0].textContent.startsWith("$")?t[0].textContent.trim().substring(1):t[0].textContent.trim():"0.00"}function O(e){/complete|interactive|loaded/.test(document.readyState)?e():y.addListener(document,"DOMContentLoaded",()=>{e()})}function wd(){return{total_price:We("total_price"),coupon:We("coupon"),shipping_method:We("shipping_method"),shipping_price:We("shipping_price"),zip_code:We("zip_code")}}function mc(){let e=Qs(),t={custom_dimensions:{tax_amount:window.Shopify?Zt():void 0},total_price:window.cart_json?.total_price};return I({},e,t)}function vd(){window.IntentProperties&&Bo(wd()),q(os,!0,1051200),L(P.PURCHASE,mc())}function Gn(){D("page.log_purchase")&&(vd(),O(()=>{L(P.DELAYED_PURCHASE,mc())}))}function lc(e){y.addListener(window,"message",t=>{if(t.origin&&t.origin.indexOf(".attn.tv")>0){let o=t.data.__attentive||{};o&&o.phone&&e(`+1${o.phone}`)}})}function gc(e){let t=document.getElementById("continue_button"),o=document.querySelectorAll("input[type=tel]");t&&o&&y.addListener(t,"click",()=>{if(o[0]){let r=o[0].value;e(r)}})}function _c(){return S(window,"Shopify.checkout.phone")}function hc(){let e=S(window,"_learnq");if(e&&typeof e.identify=="function")return e.identify().$phone}function Sd(e){let t=e.match("\\+")?e:`+1${e}`;return t=t.replace(/^(\+)|\D/g,"$1"),t}function Id(e){return new RegExp(/^\+\d{10,14}$/g).test(e)}function Wn(e){let t=Sd(e);return Id(t)?ot(t):void 0}function Jo(e){let t=Wn(e);t&&me(Ro,t)}function bd(e,t=()=>{}){e.value&&t(e.value)}var dc='input[type="tel"], input[autocomplete~="tel"], input[type="text"][id*="phone" i], input[type="text"][name*="phone" i]';function yc(e=()=>{}){let t=Kt(dc);w(t,o=>{bd(o,e)}),y.addListener(document,"focusout",o=>{let r=o.target;if(r.matches(dc)){let n=r.value;n&&e(n)}})}function Ec(e){let t=_c()||hc();t&&e(t),lc(o=>{e(o)}),gc(o=>{e(o)}),yc(o=>{e(o)})}function wc(e=()=>{}){let t=_c()||hc();return t?(Jo(t),e()):(lc(o=>{Jo(o)}),gc(o=>{Jo(o)}),yc(o=>{Jo(o),e()})),t}function Yo(){let e=Be(Ro)||b(Ro);return e?_t(e):void 0}function Pe(){return!!S(window,"Shopify")}function eo(){return Pe()&&Q()?.includes("products")}function Ad(){return Pe()&&Q()==="/"}function kt(){return!!S(window,"Shopify.Checkout")}function xd(){let e=S(window,"Shopify.Checkout.isOrderStatusPage"),t=S(window,"Shopify.checkout");return e!==void 0||t!==void 0}function it(){return S(window,"Shopify.Checkout.currency")||S(window,"cart_json.currency")||S(window,"Shopify.currency.active")||S(window,"afterpay_shop_currency")}function Xo(){return S(window,"Shopify.Checkout.totalPrice")?.toString()}function ke(){if(!Pe())return;let e=S(window,"Shopify.Checkout.step");if(e)switch(e){case"payment_method":return"payment";case"shipping_method":return"shipping";case"contact_information":return"contact";case"thank_you":return"confirmation";default:return e}return xd()?"order_status":eo()?"products":Ad()?"index":Q()}function Td(e){let t=document.getElementById("continue_button"),o=document.getElementById("checkout_shipping_address_first_name"),r=document.getElementById("checkout_shipping_address_last_name");t&&o&&r&&y.addListener(t,"click",()=>{e(o.value,r.value)})}function vc(){Td((e,t)=>{me(Xr,ot(e)),me(zr,ot(t))})}async function Sc(){try{let e=await jt(Xr);return e?_t(e):void 0}catch(e){i.error(e);return}}async function Ic(){try{let e=await jt(zr);return e?_t(e):void 0}catch(e){i.error(e);return}}function Pd(e){if(e)return e.replace(/['.,/#!$%^&*;:{}=\-_`~()]/g,"")}function zo(e){let t=Pd(e);return t?ot(t):void 0}function kd(e,t){let o=e[t];if(o){let{first_name:r,last_name:n}=o;if(n){let a={fn:r,ln:n};return r&&(a.fln=`${r} ${n}`),I({},a)}}}function bc(){let e=[],t=Pe()&&S(window,"Shopify.checkout");return t&&["billing_address","credit_card","shipping_address"].forEach(o=>{let r=kd(t,o);r&&e.push(r)}),e.length?e:void 0}function Ce(e,t){let o=document.createElement(e);return Object.keys(t).forEach(n=>{o[n]=t[n]}),o}function Ac(e,t){let o=encodeURIComponent(e);return t&&(o=o.replace(/%2C/g,",")),o}function ue(e,t=!0){let o=[];return w(e,(r,n)=>{if(r!=null&&r!==""){let a=typeof r;a==="function"?r=r.name:a==="object"&&(Array.isArray(r)?r=r.toString():r=JSON.stringify(r)),o.push(`${Ac(n,t)}=${Ac(r,t)}`)}}),o.join("&")}function Hn(e){if(!e||!crypto||!crypto.subtle||typeof crypto.subtle.digest!="function")return Promise.resolve(void 0);let t=new TextEncoder().encode(e);return crypto.subtle.digest("SHA-256",t).then(o=>Array.from(new Uint8Array(o))).then(o=>o.map(r=>r.toString(16).padStart(2,"0")).join(""))}function Qo(e){let t=Object.keys(e).map(o=>Hn(e[o]).then(r=>{e[o]=r}));return Promise.all(t).then(()=>I({},e))}var Cd="facebook_ads";async function jn(){try{let e=Yo(),t={em:fe(),ph:e&&e.replace(/\D/g,""),fn:await Sc(),ln:await Ic()};return I({},t)}catch(e){return i.error(e),{}}}function xc(e,t,o){let r=`https://www.facebook.com/tr?id=${e}&ev=${t}`;return jn().then(Qo).then(n=>{w(n,(a,p)=>{r+=`&ud[${p}]=${a}`})}).then(()=>{w(o,(a,p)=>{r+=`&cd[${p}]=${a}`});let n=b(et);return n&&(r+=`&fbp=${n}`),r})}function Tc(e,t,o){return xc(e,t,o).then(r=>{let n=Ce("img",{width:1,height:1,src:r});n.style.display="none",document&&document.body&&typeof document.body.append=="function"&&document.body.append(n)})}function Kn(e,t,o,r){return xc(e,t,o).then(n=>{n+="&",n+=ue({dl:A(),rl:document.referrer}),N(()=>{V(n,{method:"GET"},r,a=>{throw a})},a=>i.error(new Error(`${Cd} api call failed with message ${a.message}`)),9,300,!0)})}var at="measure";function F(e,t="|"){return e.filter(o=>o!=null&&o!=="").join(t)}function B(e){let t=Number(e);return isNaN(t)?e:t}function Pc(e){let t=`${e}`;return t.length===1?`0${t}`:t}function Zo(e,t=""){if(e)return`${e.getFullYear()}${t}${Pc(e.getMonth()+1)}${t}${Pc(e.getDate())}`}function er(){return window.ShopifyAnalytics&&window.ShopifyAnalytics.lib&&window.ShopifyAnalytics.lib.config&&window.ShopifyAnalytics.lib.config["Facebook Pixel"]&&window.ShopifyAnalytics.lib.config["Facebook Pixel"].conversionsAPIEnabled}var x="Integration not available";var kc=0;function to(){return kc+=1,kc}function Jn(e,t){return typeof e=="string"&&typeof t=="string"?e.localeCompare(t,void 0,{sensitivity:"accent"})===0:e===t}function Yn(e,t="PWO",o=["formBuckets","overlayBuckets","overlayBuckets_triggerBuckets","overlayBuckets_triggerBuckets_formBuckets"]){if(e?.overlaySetting===void 0||e?.overlaySetting===null)return e;let r=Se(A());function n(p,f){let s,g;if(Array.isArray(p)&&p.length){let _=JSON.parse(JSON.stringify(p));typeof _[0].percent!="number"&&o.includes(f)&&(_[0].percent=1),typeof _[0].percent=="number"&&(s=`${t}_${f}`,g=_.map(E=>({percent:E.percent,value:{...E}})))}if(s&&g){let _=t,E=p.short_name||f;return U({name:s,allocations:g,force:r[`bcai_${_}_${E}`]})}return p}function a(p,f){if(p==null)return p;let s=Array.isArray(p)?[]:{},g;return Object.keys(p).forEach(_=>{let E=f?`${f}_${_}`:_;g=n(p[_],E),s[_]=typeof g=="object"?a(g,E):g}),s}return{...e,overlaySetting:a(e.overlaySetting)}}function Cc(e){let t=e?.formBuckets?.formConfig;return e?.overlayBuckets?.triggerBuckets?.formBuckets?.formConfig!==void 0&&Object.keys(e.overlayBuckets.triggerBuckets.formBuckets.formConfig).length>0&&(t=e.overlayBuckets.triggerBuckets.formBuckets.formConfig),{formId:dt(te()).deviceType==="mobile"?t?.mobile:t?.desktop,profile:t?.profile}}function He(e){if(e){let t=D("apps")||[];if(t)return t.find(o=>Jn(o.app,e))||{}}return{}}function tr(e){let t=He(e).platforms||[],o=[];return t.forEach(r=>{o.push(r.platform.toLowerCase())}),o}function $(e,t){if(e&&t){let o=He(e);if(o)return(o.platforms||[]).find(a=>Jn(a.platform,t))||{}}return{}}function Ct(e){return e?Yn(He(e),e).overlaySetting||{}:{}}function st(e){return e?He(e).identitySetting||{}:{}}function k(e){let t=new Error(e);return t.name="GlobalInterfaceError",t.status="warn",t.stack=K(t.stack,1),t}function Xn(){(function(e,t,o,r,n,a,p){e.fbq||(n=e.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)},e._fbq||(e._fbq=n),n.push=n,n.loaded=!0,n.version="2.0",n.queue=[],a=t.createElement(o),a.async=!0,a.src=r,p=t.getElementsByTagName(o)[0],p.parentNode.insertBefore(a,p))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}function or(e){return t=>{t.message===x?i.error(new k(e)):i.error(t)}}function rr(e,t){v()||(Xn(),window.fbq("init",e,t))}var Nt="facebook_ads",Oc="trackCustom";function Rc(e,t){window.fbq("init",e,t),Gc({location:"init"},"FB init event not sent")}function Lc(e){if(typeof window.fbq!="function"||typeof window.fbq.getState!="function")throw new Error(x);if(typeof window.fbq.getState().then=="function")window.fbq.getState().then(({pixels:t})=>{t&&t.length>0&&e(t)});else if(window.fbq.getState().pixels&&window.fbq.getState().pixels.length>0)e(window.fbq.getState().pixels);else throw new Error(x)}function nr(){return D("facebookAccounts")||[]}function Dc(e){return e===void 0?er():e}function zn(){return F([c,"validation"])}function Fc(e,t){e.forEach(o=>{let r=o.pixelId,n=o.advancedMatching;if(r){let a=Dc(n)?t:{};v()?Kn(r,zn(),a):Rc(r,a)}})}function Nd(e,t,o){let r=nr();r.length&&Fc(r,t),o()}function Od(e,t,o){Xn();let r=nr();function n(){Lc(a=>{a.forEach(p=>{Dc()&&Rc(p.id,t)})})}N(()=>{if(typeof window.fbq!="function")throw new Error(x);r.length?Fc(r,t):n(),o()},or(`${Nt} globals not found`))}function Bc(e,t,o){return function(){typeof e=="function"&&e(Nt,{eventName:t,eventObject:o})}}function Mc(e,t,o,r){let n=Bc(r,t,o),a=nr();a.length&&a.forEach(p=>{let f=p.pixelId;Kn(f,t,o,n)})}function $c(e,t,o,r){let n=Bc(r,t,o);Lc(()=>{window.fbq(Oc,t,o),n()})}function Rd(e,t){nr().forEach(r=>{let n=r.pixelId;n&&Tc(n,e,t)})}function Vc(e,t,o,r){return n=>(Rd(e,t),typeof r=="function"&&r(`${Nt}`,{eventName:e,eventObject:t},"score_push_img_pixel"),o(n))}function Ld(e){return`${c}_${e}`}function Dd(e,t,o){let r;return e===at?r=F([c,o],"_"):r=F([t,o]),r}function Fd(e,t){return{app_name:e,integration_product:t.integration_product,conversion_product:t.conversion_product,conversion_type:t.conversion_type,comparison_population:t.comparison_population,comparison_group:t.comparison_group,comparison_type:t.comparison_type,threshold_setter:t.threshold_setter,threshold_group_count:t.threshold_group_count,score:B(t.score),event_date:Zo(new Date,"-"),eventDate:Zo(new Date)}}function Uc(e,t){let o=Ld(e);return{eventName:Dd(e,o,t.integration_product),eventObject:Fd(o,t)}}function Bd(e,t,o){if(!e)return;let r=Uc(t,e);Mc(t,r.eventName,r.eventObject,o)}function Md(e,t,o){if(!e)return;let r=Uc(t,e),n=r.eventName,a=r.eventObject;N(()=>$c(t,n,a,o),Vc(n,I({},a,{eventHitId:to()}),or(`${Nt} globals not found`),o),80,150)}function qc(){let e=$("target",Nt);return e&&Object.keys(e).length>0}function $d(e){if(qc()){let t=zn();Mc("target",t,I({},e,{eventHitId:to()}))}}function Gc(e,t){if(qc()){let o=zn();N(()=>$c("target",o,I({},e,{eventHitId:to()})),Vc(o,I({},e,{eventHitId:to()}),or(t),80,150))}}function Vd(e,t,o){v()?Bd(e,t,o):Md(e,t,o)}async function Nc(e,t){try{let o=await jn();v()?Nd(e,o,t):Od(e,o,t)}catch(o){i.error(o)}}function Ud(e,t){v()?$d(e):Gc(e,t)}var $e={eventHitType:Oc,name:Nt,identify:Nc,setup:Nc,send:Vd,sendValidationEvent:Ud};var Ee="audience";function de(e){return fn(`apps.${e}`)}var Wc="o",Hc=`${c}_audience|score_update`,Qn=`${c}_score`,jc=`contextData.${Qn}`;function H(e,t){return(o,r,n)=>{if(!o)return;function a(p){p.message===x?i.error(new k(`${e} globals not found`),{appName:r}):i.error(p)}N(()=>t(o,r,n),a)}}var Zn="adobe_analytics";function Gd(e,t,o){let r=S(window,"s.tl");if(typeof r=="function"){let n={contextData:{[Qn]:B(e.score)},linkTrackVars:jc};r(!0,Wc,Hc,n),typeof o=="function"&&o(Zn,n);return}throw new Error(x)}var ei={name:Zn,send:H(Zn,Gd)};var Kc="event";var ti="dynamic_yield";function Wd(e){return e==="1"?"low":e==="2"?"medium":"high"}function Hd(e,t,o){let r=S(window,"DY.API"),n;e.threshold_group_count==="3"&&(n=Wd(e.score));let a=F([c,e.comparison_group.toLowerCase(),n||`score_${e.score}`]);if(typeof r=="function"){let p=B(e.score);r(Kc,{name:a,properties:{}}),typeof o=="function"&&o(ti,{EVENT_PREFIX:`${c}_${t}`,score:p})}else throw new Error(x)}var oi={name:ti,send:H(ti,Hd)};function oo(e){let t=new Error(e);return t.name="ConfigDataError",t.status="warn",t.stack=K(t.stack,1),t}var Yc="event",ro="owox",ir=[];function jd(e){let t=tt();if(t)e(t);else throw new Error(x)}function Jc(e,t,o,r){e.cid=t,e.z=Date.now(),V(`https://google-analytics.bi.owox.com/${o}?${ue(e)}`,{method:"GET"},()=>r(ro,e))}function Kd(e,t,o){let r=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,a=$(t,ro).tracking_id;if(typeof r=="function"){let p=y.setTimeout(()=>{i.error(new k(`${ro} ready hook not fired`))},5e3);r(f=>{if(clearTimeout(p),a=a||f&&f.get("trackingId"),a||w(r.getAll(),s=>{let g=s.get("trackingId");if(g)return a=g,!1}),a){if(!e)return;let s=`${c}_${t}`,g=F([s,e.integration_product,e.conversion_product,e.conversion_type]),_=F([e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,e.comparison_group]);ir.push({v:1,ni:1,t:Yc,tid:a,dl:A(),ec:g,ea:_,el:B(e.score)}),Array.isArray(ir)&&N(()=>jd(E=>{let R=ir;ir={push:M=>{Jc(M,E,a,o)}},R.forEach(M=>{Jc(M,E,a,o)})}))}else i.error(new oo(`${ro} tracking id not found`))})}}var ri={eventHitType:Yc,name:ro,send:Kd};var Jd=U({name:"kpi_sampling",allocations:[{percent:.1,value:!0}]});function je(e,t,o){Jd&&X(`${o} ${t}`,{"evt.name":o,"evt.integration":t,appName:e,"usr.id":At().id,"view.url":C("page_url")||A(),"view.referrer":C("page_referrer_url")||ce()})}var ni={[ei.name]:ei,[oi.name]:oi,[ri.name]:ri};function ii(e,t,o){je(Ee,e,t),Y(`${Ee} ${t}: ${e}`,o)}function Yd(e,t){ni[e]!==void 0&&t&&w(t,o=>{o.name&&ni[e].send(o,Ee,(r,n)=>{ii(r,"score_push",n)})})}function Xd(){let e=de(`${Ee}.scores`);e&&e.length&&se(Ee,h.SCORES_UPDATE,e,{onExec:()=>{ii(u,h.SCORES_UPDATE,e)}});let t=e?e[0]:null;if(t){let o={score:parseInt(t.score,10),comparison_group:t.comparison_group,threshold_group_count:t.threshold_group_count};se(Ee,"score_update",I({},o),{onExec:()=>{ii(u,"score_update",o)}})}}function zd(e){let t=de(`${Ee}.integrations`),o=[];return w(t,r=>{let n=r.platform;e[n]&&o.push(e[n].then(()=>{Yd(n,r.scores)}))}),Xd(),Promise.all(o)}var Xc={appName:Ee,platforms:ni,sendAppScores:zd};var ai={[$e.name]:$e};function Qd(e,t,o="score_push"){je(at,e,o),Y(`${at} ${o}: ${e}`,t)}function Zd(e,t){ai[e]!==void 0&&t&&t.length>0?(q(Ut,"scored",30),w(t,o=>{o.name&&ai[e].send(o,at,Qd)})):q(Ut,"enabled",30)}function el(e){let t=W("blackcrow_promising_user")||"";return e==="enabled"||e===void 0&&t.toLowerCase()==="active"||e===void 0&&A().toLowerCase().indexOf("blackcrow_promising_user%3dactive")>0}function tl(e){let t=de(`${at}.integrations`),o=b(Ut),r=[];return o==="scored"?q(Ut,"scored",30):el(o)&&w(t,n=>{let a=n.platform;e[a]&&r.push(e[a].then(()=>{Zd(a,n.scores)}))}),Promise.all(r)}var zc={appName:at,platforms:ai,sendAppScores:tl};var Ne="pwo",ar={DELAY:"delay",SESSION_VIEW_COUNT:"page_view",EXIT_INTENT:"exit_intent"};var Ve=class{constructor(t){this.name=t}set(t,o){q(this.name,t,o)}get(){return b(this.name)}reset(){q(this.name,"",-1)}};var Qc=new Ve(rs),sr=new Ve(is),ci=new Ve(as),si=class{SEPARATOR="|";overlayHistoryCookie=new Ve(ns);get(){let t=this.overlayHistoryCookie.get();return t?t.split(this.SEPARATOR):[]}push(t){let o=this.get();o.push(t),this.overlayHistoryCookie.set(o.join(this.SEPARATOR),30)}count(t){return this.get().filter(o=>o===t).length}totalCount(){return this.get().length}},le=class{overlayClosedCookieDuration=30;constructor(){this.history=new si}static overlayWasClosed(){return!!Qc.get()}static piiWasSubmitted(){return!!sr.get()}static submitPII(){sr.set("true",1051200)}closeOverlay(){delete this._openOverlay}setOverlayClosedCookie(){this.isOverlayOpenedByATC()||Qc.set("true",this.overlayClosedCookieDuration)}closeOverlayAndSetCookie(){this.closeOverlay(),this.setOverlayClosedCookie()}isOverlayOpen(){return!!this._openOverlay}piiWasSubmitted(){return le.piiWasSubmitted()}setOverlayClosedDuration(t=30){this.overlayClosedCookieDuration=t}totalOverlaysOpenedCount(){return this.history.totalCount()}openStandardOverlay(){this._openOverlay=le.STANDARD,this.history.push(le.STANDARD)}standardOverlaysOpenedCount(){return this.history.count(le.STANDARD)}openAtcOverlay(){this._openOverlay=le.ATC,this.history.push(le.ATC)}atcOverlaysOpenedCount(){return this.history.count(le.ATC)}isOverlayOpenedByATC(){return this._openOverlay===le.ATC}openExitOverlay(){this._openOverlay=le.EXIT,this.history.push(le.EXIT)}exitOverlaysOpenedCount(){return this.history.count(le.EXIT)}isOverlayOpenedByExitTrigger(){return this._openOverlay===le.EXIT}},ge=le;To(ge,"STANDARD","s"),To(ge,"ATC","a"),To(ge,"EXIT","e");var cr=class{maxTotalOverlays=1/0;maxStandardOverlays=1;maxATCOverlays=1;maxExitOverlays=1;constructor(t){this.interactionTracker=t}setMaxTotalOverlays(t=1/0){this.maxTotalOverlays=t}totalOverlayLimitReached(){return this.interactionTracker.totalOverlaysOpenedCount()>=this.maxTotalOverlays}standardOverlayLimitReached(){return this.interactionTracker.standardOverlaysOpenedCount()>=this.maxStandardOverlays}canOpenStandardOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.interactionTracker.piiWasSubmitted()&&!this.standardOverlayLimitReached()&&!this.totalOverlayLimitReached()}atcOverlayLimitReached(){return this.interactionTracker.atcOverlaysOpenedCount()>=this.maxATCOverlays}canOpenAtcOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.atcOverlayLimitReached()&&!this.totalOverlayLimitReached()}exitOverlayLimitReached(){return this.interactionTracker.exitOverlaysOpenedCount()>=this.maxExitOverlays}canOpenExitOverlay(){return!this.interactionTracker.isOverlayOpen()&&!this.exitOverlayLimitReached()&&!this.totalOverlayLimitReached()}};function ht(e,t){i.push({trigger:e,data:t})}var ol=["OPEN","EMAIL_LEAD","LEAD","CLOSE"],fi="attentive",fr={},Zc,ef=!0;var rl={OPEN:h.PWO_IMPR,CLOSE:h.PWO_CLOSE,EMAIL_LEAD:h.PWO_EMAIL_LEAD,LEAD:h.PWO_SMS_LEAD};function nl(e,t){Zc=e?.toUpperCase(),fr={},ef&&(ef=!1,y.addListener(window,"message",o=>{if(o.origin&&o.origin.indexOf(".attn.tv")!==-1){let r=o.data.__attentive||{};if(r&&ol.includes(r.action)){let{action:n,creativeId:a}=r,p=fr[a];if(p?.includes(n))return;fr[a]=p?[...p,n]:[n];let f=rl[n];f&&ht(f,{rendered_form_id:a})}}})),N(()=>{if(typeof window.__attentive?.trigger=="function")t();else throw new Error(`${fi} globals not found`)},()=>i.error(new k(`[${Zc}] ${fi} globals not found.`)),100)}function il(){return Promise.resolve(W("utm_source")==="attentive")}function al(){}function sl(e){delete fr[e],window?.__attentive?.trigger(null,null,null,e)}var ui={name:fi,setup:nl,isIdentified:il,triggerOverlay:sl,addAttributesToUserProfile:al};var tf=["open","embedOpen","close","redirectedToUrl","submit","stepSubmit"];function Ot(){if(!window.klaviyo){window._klOnsite=window._klOnsite||[];try{window.klaviyo=new Proxy({},{get(e,t){return t==="push"?function(){let o;(o=window._klOnsite).push.apply(o,arguments)}:function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];let a=typeof r[r.length-1]=="function"?r.pop():void 0;return new Promise(f=>{window._klOnsite.push([t].concat(r,[function(s){a&&a(s),f(s)}]))})}}})}catch{window.klaviyo=window.klaviyo||[],window.klaviyo.push=function(){let t;(t=window._klOnsite).push.apply(t,arguments)}}}}function of(e,t,o=()=>!1,r=500){let n=b(e),a=y.setInterval(()=>{let p=b(e);if(p!==n)try{t(p),o()&&clearInterval(a)}catch(f){clearInterval(a),i.error(new Error(`Error occurred in one of the callbacks: ${f}`))}finally{n=p}},r);return a}var ur="klaviyo",pi="PWO",no={};function cl(e){let t=e.type,o=e?.metaData,r=null;switch(t){case"open":r=h.PWO_IMPR;break;case"submit":o?.$email&&(r=h.PWO_EMAIL_LEAD);break;case"stepSubmit":o?.$phone_number&&(r=h.PWO_SMS_LEAD);break;case"close":r=h.PWO_CLOSE;break;default:break}return r}function fl(e){return e.overrideSampling=!0,e.message=`klaviyo_renderer: ${e.message}`,e}function ul(e,t){return o=>{o.message===`klaviyo_renderer: ${x}`?i.error(new k(e)):i.error(o),t()}}function rf(){return new Promise((e,t)=>N(()=>{if(W("_kx"))return e(!0);let o=window._learnq?._loaded&&window?._learnq?.isIdentified||window._klOnsite?._loaded&&window._klOnsite.isIdentified||window?.klaviyo?.isIdentified;if(typeof o=="function"){let r=o();return e(r!==void 0&&r)}throw fl(new Error(x))},ul(`[${pi}] ${ur} could not determine whether user is identified`,t)))}function pl(e){let t=window._learnq?._loaded&&window?._learnq?.push||window._klOnsite?._loaded&&window?._klOnsite?.push||window?.klaviyo?.push;typeof t=="function"&&t(["identify",e])}function mi(e){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["identify",{$email:e}])}function ml(){O(()=>{Go(e=>{let t=bn(e);t&&mi(t)})})}function dl(){rf().then(e=>{if(e===!1){let t=fe();t?mi(t):ml()}})}function ll(){function e(){let t=gt();t&&L("kl_purchase",{kl_cid:t})}if(ke()==="confirmation"){of(Fo,e,gt);let t=fe()||qo();t&&mi(t)}else dl()}function gl(e){delete no[e],window.klaviyo.openForm(e)}function _l(e,t){pi=e?.toUpperCase(),no={};function o(r){let n=r?.formId,a=cl(r);function p(){return a&&no[n]?.includes(a)}function f(){let g=no[n];no[n]=g?[...g,a]:[a]}function s(){(window?._learnq?.push||window?._klOnsite?.push||window?.klaviyo?.push)(["track","Welcome Form Submit"])}p(n,a)||(f(n,a),ht(a,{rendered_form_id:n}),a===h.PWO_EMAIL_LEAD&&s())}y.addListener(window,"klaviyoForms",r=>{r.detail&&tf.includes(r.detail.type)&&o(r.detail)}),(typeof window.klaviyo?.identify!="function"||!window._klOnsite?._loaded)&&Ot(),N(()=>{if(typeof window.klaviyo?.identify=="function"&&window._klOnsite?._loaded)ll(),t();else throw new Error(`${ur} globals not found`)},()=>i.error(new k(`[${pi}] ${ur} globals not found.`)),100)}var Rt={name:ur,setup:_l,isIdentified:rf,triggerOverlay:gl,addAttributesToUserProfile:pl};function io(e,t){if(typeof t!="function")return;let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(e)&&t&&y.addListener(this,"load",()=>{this.responseType===""||this.responseType==="text"?t(this.responseText):this.responseType==="json"&&t(JSON.stringify(this.response))})}catch{i.error(new pe(`XHR Sniffer Error For URL: ${e}`))}return o.apply(this,r)}}function pr(e,t){let o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...r){try{r[1]?.match(e)&&t(r)}catch{i.error(new pe(`XHR Intercept Error For URL: ${e}`))}return o.apply(this,r)}}var li="justuno",ao={},di;function gi(e){return e.overrideSampling=!0,e.message=`justuno_renderer: ${e.message}`,e}function nf(e,t){return o=>{o.message===`justuno_renderer: ${x}`?i.error(gi(new k(e))):i.error(o),t(e)}}function hl(){return window._klOnsite?._loaded||Ot(),new Promise((e,t)=>N(()=>{if(typeof window.klaviyo?.isIdentified=="function"&&window._klOnsite?._loaded)return e(Rt.isIdentified());throw gi(new Error(x))},nf(`[${di}] ${li} could not determine whether user is identified (using klaviyo).`,t)))}function yl(e){typeof window?.klaviyo?.push!="function"&&!window._klOnsite?._loaded&&Ot(),Rt.addAttributesToUserProfile(e)}function El(e){delete ao[e],window.ju_loadiframe({campaign_id:e??""})}function wl(e,t){ao={},di=e?.toUpperCase();function o(a,p){return ao[a]?.includes(p)}function r(a,p){if(a){let f=ao[a];ao[a]=f?[...f,p]:[p]}}function n(a,p){o(a,p)||(r(a,p),ht(p,{rendered_form_id:a}))}v()?t():(window.juapp=window.juapp||function(){(window.juapp.q=window.juapp.q||[]).push(arguments)},pr("(justuno.com|jst.ai)/api/analytics/impression",()=>{n(void 0,h.PWO_IMPR)}),window.juapp("trackFunc","engagement",(a,p,f,s,g,_)=>{_.find(E=>E.name==="phone_number"&&E.value.length>0)?n(s,h.PWO_SMS_LEAD):a&&n(s,h.PWO_EMAIL_LEAD)}),window.ju_windowevent=(a,p)=>{a==="unload"&&n(p,h.PWO_CLOSE)},N(()=>{if(window.ju_loadiframe&&typeof window.ju_loadiframe=="function"&&window.ju_initialized)t();else throw gi(new Error(x))},nf(`[${di}] ${li} globals not found.`,t),100))}var _i={name:li,setup:wl,isIdentified:hl,triggerOverlay:El,addAttributesToUserProfile:yl};var af={[ui.name]:ui,[_i.name]:_i,[Rt.name]:Rt},mr=class{constructor(t){if(!t)throw new Error("[PWO] No configured overlay renderer");if(this.overlayRenderer=af[t.toLowerCase()],!this.overlayRenderer)throw new Error(`[PWO] Unrecognized overlay renderer: ${t}`)}setup(){return new Promise(t=>this.overlayRenderer.setup(Ne,t)).catch(t=>i.error(t))}triggerOverlay(t){this.overlayRenderer.triggerOverlay(t)}get name(){return this.overlayRenderer?.name}},dr=class{constructor(t){if(!Array.isArray(t)||!t.length)throw new Error("[PWO] No configured identity platforms");if(this.identityPlatforms=t.map(o=>{let r=af[o?.toLowerCase()];return r||i.error(new Error(`[PWO] Unrecognized identity platform: ${o}`)),r}).filter(o=>!!o),!this.identityPlatforms.length)throw new Error("[PWO] No configured identity platforms")}isUserIdentified(){let t=this.identityPlatforms.map(async o=>{try{return o.isIdentified()}catch{return!0}});return Promise.all(t)}addAttributesToUserProfile(t){this.identityPlatforms.forEach(o=>{o.addAttributesToUserProfile(t)})}};function vl(){return Number(b(Jr))||0}function so(){return Number(b(Yr))||0}function sf(){let e=vl();q(Jr,e+1,1051200);let t=so();t<1&&se("platform",h.SESSION),q(Yr,t+1,30)}function cf(e){if(dt(te()).deviceType!=="mobile")O(()=>{y.addListener(document?.documentElement,"mouseleave",e)});else{let t=lt(),o=bs();if(o>0){let r=y.setInterval(()=>{let n=t-lt();n<0&&(n=0,t=lt()),n/o>.3&&(clearInterval(r),e())},150)}}}function lr(e){let t=de(`${Ee}.scores`)??[];return e?t.find(({name:o})=>o===e)?.score:void 0}function Sl(){let t=Ct(Ne).excludedQueryParams;return t&&t.some(o=>W(o.name)===o.value)}function ff(){return ci.get()?!0:Sl(Ne)?(ci.set(!0),!0):!1}function uf(){let e=Ct(Ne),t=e?.overlayBuckets,o=Cc(e),r=lr(e?.overlayBuckets?.triggerBuckets?.scoreName);return t===void 0?void 0:{resolved_trigger_config:{...t},resolved_form_id:o.formId,resolved_form_profile:o.profile,resolved_score:r,version:e?.version}}function pf(){let e=!!sr.get(),t=ff();return!(e||t)}function mf(e){return{closed_overlay:!!ge.overlayWasClosed(),identified:e.some(t=>t===!0),pii_submitted:!!ge.piiWasSubmitted(),channel_excluded:ff()}}function hi(e){let t={};function o(){return I({},uf(),mf(e),{session_page_views:so()},t)}function r(n){I(t,n)}return{getEventData:o,extendEventData:r}}var Lt,gr,co,j=new ge,fo=new cr(j);function Il(e){Lt&&Lt.extendEventData(e)}function Ke(){return Lt?.getEventData()||{}}function lf(){return Ke()?.resolved_trigger_config?.name}function bl(){Lt=void 0}function Al(e){return{resolved_form_id:e.form_id,resolved_form_profile:e.form_profile,trigger_type:e.trigger_type,trigger_count:e.trigger_count}}function xl(){j.closeOverlay(),bl()}function Tl(e){return!j.isOverlayOpen()&&e.overlay_eligible&&e.trigger_type&&e.trigger_count>-1&&e.trigger_count!==null}function yi(e){i.push({trigger:h.PWO_OPEN_ATTEMPT}),gr.triggerOverlay(e.form_id),co.addAttributesToUserProfile({blackcrow_exposed_population_bucket:lf(),bcai_trigger:e.trigger_type,profile:e.form_profile})}function gf(e){return co.isUserIdentified().then(o=>{!o.some(n=>n===!0)&&fo.canOpenStandardOverlay()&&(j.openStandardOverlay(),yi(e))})}function _f(e,t){let o=gr.name??"unknown";i.error(new Error(`[${Ne.toUpperCase()}] error when triggering overlay for creative "${e?.form_id}" on ${o} due to error "${t.message}".`))}function df(e){let t=()=>gf(e).catch(o=>_f(e,o));y.setTimeout(t,e.trigger_count*1e3)}function Pl(e){so()>=e.trigger_count&&gf(e).catch(o=>_f(e,o))}function kl(e){function t(){if(!e.overlay_eligible){let o=Ke();return!o.channel_excluded&&!o.identified&&!o.pii_submitted}return!0}return t()&&fo.canOpenAtcOverlay()}function Cl(e){Ke()?.resolved_trigger_config?.triggerBuckets?.showOverlayOnATC&&T("platform",h.ADD_TO_CART,()=>{kl(e)&&(j.openAtcOverlay(),yi(e))})}function Nl(e){let t=e?.apps?.pwo;if(t){Il({...Al(t)});let o=lf();if(co.addAttributesToUserProfile(I({},{blackcrow_all_population_bucket:o,blackcrow_eligible_population_bucket:t?.overlay_eligible?o:void 0})),Cl(t),Tl(t))switch(t.trigger_type){case ar.DELAY:df(t);break;case ar.SESSION_VIEW_COUNT:Pl(t);break;case ar.EXIT_INTENT:T("platform",h.EXIT_INTENT,()=>{fo.canOpenExitOverlay()&&df(t)});break;default:}}else i.error(new Error(`[${Ne.toUpperCase()}] missing "pwo" in response: ${JSON.stringify(e)}`))}function Ol(e,t){return L(e,t,o=>{Nl(o)}),{eventName:e,eventData:t}}async function Rl(e){try{if(e.renderer&&e.isIdentified&&un()){await e.renderer;let t=await e.isIdentified;Lt=hi(t),await Ol(P.PWO_DECISION,Lt.getEventData())}}catch(t){i.error(t)}}function Ll(){se("platform",h.EXIT_INTENT)}function Dl(){T("platform",h.VIEW_RESPONSE,()=>{un()&&(T("platform",h.PWO_CLOSE,t=>{let o=Ke(),r=o?.resolved_form_id,n=j.isOverlayOpen(),a=t?.rendered_form_id;L(P.PWO_CLOSE,I(t,o,{bcai_triggered:n,overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()})),j.closeOverlay(),n&&(r===a||!a)&&j.setOverlayClosedCookie()}),T("platform",h.PWO_EMAIL_LEAD,t=>{ge.submitPII(),L(P.PWO_EMAIL_LEAD,I(t,Ke(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),T("platform",h.PWO_SMS_LEAD,t=>{ge.submitPII(),L(P.PWO_SMS_LEAD,I(t,Ke(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),T("platform",h.PWO_IMPR,t=>{L(P.PWO_IMPR,I(t,Ke(),{bcai_triggered:j.isOverlayOpen(),overlay_triggered_by_atc:j.isOverlayOpenedByATC(),overlay_triggered_by_seu:j.isOverlayOpenedByExitTrigger()}))}),T("platform",h.PWO_OPEN_ATTEMPT,t=>{L(P.PWO_OPEN_ATTEMPT,I(t,Ke()))}),Ct(Ne)?.overlayBuckets?.triggerBuckets?.showSecondOverlayOnExitIntent&&T("platform",h.EXIT_INTENT,()=>{let t=Ke();fo.canOpenExitOverlay()&&pf()&&!t.identified&&(j.openExitOverlay(),yi({trigger_type:h.EXIT_INTENT,form_id:t.resolved_form_id,form_profile:t.resolved_form_profile}))}))})}function Fl(){let e={},t=Ct(Ne),o=t.renderer?.toLowerCase();if(v())i.error(new k("[PWO] Disabled while running in WebPixelManager."));else if(o===void 0)i.error(new Error("[PWO] No configured overlay renderer"));else{let r=t.identifyPlatforms;try{gr=new mr(o),co=new dr(r||[o]),j.setOverlayClosedDuration(t?.overlayClosedCookieDuration),fo.setMaxTotalOverlays(t?.overlayBuckets?.triggerBuckets?.maxTotalOverlays),e.isIdentified=co.isUserIdentified(),e.renderer=gr.setup(),Dl(),cf(Ll)}catch(n){i.error(n)}}return e}var hf={appName:Ne,init:Fl,sendAppScores:Rl,cleanup:xl};var Ei="cordial";function Bl(e,t,o){let r=`${c}`,n=F([r,e.integration_product]),a=S(window,"crdl");if(typeof a=="function"){let p={app_name:t,integration_product:e.integration_product,conversion_product:e.conversion_product,conversion_type:e.conversion_type,comparison_population:e.comparison_population,comparison_group:e.comparison_group,comparison_type:e.comparison_type,threshold_setter:e.threshold_setter,threshold_group_count:e.threshold_group_count,score:B(e.score)};a("event",n,p),typeof o=="function"&&o(Ei,n)}else throw new Error(x)}var wi={name:Ei,send:H(Ei,Bl)};var uo=window.GoogleAnalyticsObject||"ga";window[uo]=window[uo]||function(){(window[uo].q=window[uo].q||[]).push(arguments)};var PL=window[uo];window.dataLayer=window.dataLayer||[];var Je=typeof window.gtag=="function"?window.gtag:function(){window.dataLayer.push(arguments)};function po(){return b("_ga")?.split(".")?.slice(-2).join(".")}function vi(e,t){if(v()){let r=$(e,t).tracking_id;return r!=null&&r.startsWith("UA-")&&po()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("UA-")===0&&(o=!0)}),o}return!1}function Si(e,t){if(v()){let r=$(e,t).tracking_id;return r!=null&&r.startsWith("G-")&&po()!==void 0}if(Array.isArray(window.dataLayer)){let o=!1;return w(window.dataLayer,r=>{r[0]==="config"&&r[1]&&r[1].indexOf("G-")===0&&(o=!0)}),o}return!1}var _r="event",we="google_analytics",Ml="https://www.google-analytics.com/collect",$l="https://www.google-analytics.com/g/collect";function Vl(e,t){if(!v()){let r=$(e,we).tracking_id;if(r){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),Je("js",new Date),Je("config",r,{send_page_view:!1})}}t()}function Ul(e,t,o,r,n){let a=new URL(Ml);a.search=ue({v:1,t:_r,tid:e,cid:po(),ec:t,ea:o,el:r,ua:te(),dl:A(),dt:document.title,ni:1}),V(a.toString(),{method:"GET",mode:"cors"},n)}function ql(e,{onSuccess:t,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:p,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_}){let E=new URL($l);E.search=ue({v:2,tid:e,en:_r,cid:po(),dl:A(),dt:document.title,ep:{app_name:o,integration_product:r,conversion_product:n,comparison_population:g,comparison_type:p,conversion_type:a,threshold_setter:f,threshold_group_count:s,non_interaction:!0},epn:{score:_}}),V(E.toString(),{method:"POST",mode:"cors"},t)}function yf(e,t,o,r,n,a,p,f,s){let g={};return g.category=F([e,t,o,r]),g.action=F([n,a,p,f]),g.label=s,g}function Gl(e,{onSuccess:t,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:p,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_}){let E=$(e,we);if(E.pageBlocked)return;let R=window.GoogleAnalyticsObject?window[window.GoogleAnalyticsObject]:window.ga,M=yf(o,r,n,a,p,f,s,g,_),he=M.category,De=M.action,ze=M.label;function Ue(){typeof t=="function"&&t(we,{eventCategory:he,eventAction:De,eventLabel:ze})}if(vi(e,we))Je("event",De,{event_category:he,event_label:ze,non_interaction:!0}),Ue();else if(Si()){let St=F([o,r],"_");Je("event",St,{non_interaction:!0,app_name:o,integration_product:r,conversion_product:n,conversion_type:a,comparison_population:g,comparison_type:p,threshold_setter:f,threshold_group_count:s,score:_}),Ue()}else if(typeof R=="function"){let St=y.setTimeout(()=>{i.error(new k(`${we} ready hook not fired`))},5e3);R(Ja=>{if(clearTimeout(St),!(Ja&&Ja.get("trackingId"))){let xo=E.tracking_id;xo||w(R.getAll(),Ip=>{let Ya=Ip.get("trackingId");if(Ya)return xo=Ya,!1}),xo?R("create",xo,"auto"):i.error(new oo(`${we} tracking id not found`))}R("send",{hitType:_r,eventCategory:he,eventAction:De,eventLabel:ze,nonInteraction:!0}),Ue()})}else throw new Error(x)}function Wl(e,{onSuccess:t,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:p,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_}){let E=yf(o,r,n,a,p,f,s,g,_),R=E.category,M=E.action,he=E.label;function De(){typeof t=="function"&&t(we,{eventCategory:R,eventAction:M,eventLabel:he})}if(vi(e,we)){let Ue=$(e,we).tracking_id;Ul(Ue,R,M,he,De)}else if(Si(e,we)){let Ue=$(e,we).tracking_id;ql(Ue,{onSuccess:De,eventPrefix:o,integrationProduct:r,conversionProduct:n,conversionType:a,comparisonType:p,thresholdSetter:f,thresholdGroupCount:s,comparisonPopulation:g,score:_})}else throw new Error(x)}function Hl(e,t,o){let r=`${c}_${t}`;function n(p){p.message===x?i.error(new k(`${we} globals not found`),{appName:t}):i.error(p)}if(!e)return;let a=v()?Wl:Gl;N(()=>a(t,{onSuccess:o,eventPrefix:r,integrationProduct:e.integration_product,conversionProduct:e.conversion_product,conversionType:e.conversion_type,comparisonType:e.comparison_type,thresholdSetter:e.threshold_setter,thresholdGroupCount:e.threshold_group_count,comparisonPopulation:e.comparison_population,score:B(e.score)}),n)}var Ii={eventHitType:_r,name:we,setup:Vl,send:Hl};var Dt="google_ads",jl="www.googleadservices.com",Kl="_gcl_au";function hr(e){return $(e,Dt)?.conversion_id}function Ef(e){return hr(e)?.split("-").splice(-1).join()}function Jl(){return b(Kl)?.split(".").splice(-2).join(".")}function wf(e){let t=A(),o=ce(),r=It(),n=Date.now(),a=Jl(),p={data:`event=${e};non_interaction=true`,fst:n,random:n,auid:a,url:t,ref:o,tiba:r,hn:jl,rfmt:3,fmt:4,async:1,cv:11,guid:"ON"};return ue(p)}var Yl="event",Xl="https://googleads.g.doubleclick.net/pagead/viewthroughconversion";function zl(e,t){if(!v()){let o=hr(e);if(o){let r=document.createElement("script");r.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,r.async=!0,document.getElementsByTagName("head")[0].appendChild(r),Je("js",new Date),Je("config",o)}}t()}function Ql(){if(Array.isArray(window.dataLayer)){let e=!1;return w(window.dataLayer,t=>{t[0]==="config"&&t[1]&&t[1].indexOf("AW-")===0&&(e=!0)}),e}return!1}function Zl(e,t,o){let r=Ef(t),n=wf(e);try{Ze(`${Xl}/${r}/?${n}`),o()}catch(a){i.error(new Error(`${Dt} api call failed with ${a}`))}}function eg(e,t,o){if(Ql())Je("event",e,{send_to:hr(t),non_interaction:!0}),o();else throw new Error(x)}function tg(e,t,o){let r=`${c}_${t}`,n=F([r,e.integration_product,e.conversion_product,e.conversion_type,e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,`score_${B(e.score)}`]);function a(){typeof o=="function"&&o(Dt,{event:n})}v()?Zl(n,t,a):eg(n,t,a)}var bi={eventHitType:Yl,name:Dt,setup:zl,send:H(Dt,tg)};var Ai="heap";function og(e,t,o){let r=S(window,"heap");if(r&&typeof r.addUserProperties=="function"){let a={[F([c,e.comparison_group,e.threshold_group_count])]:e.score};r.addUserProperties(a),typeof o=="function"&&o(Ai,a)}else throw new Error(x)}var xi={name:Ai,send:H(Ai,og)};var mo="klaviyo";function rg(e,t){if(!v()){let o=$(e,mo).api_key,r=window._learnq?window._learnq.identify:null;if(o&&typeof r!="function"){let n=document.createElement("script");n.src=`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${o}`,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)}}t()}function vf(e,t,o,r){function n(){typeof r=="function"&&r(mo,t)}function a(){let p=fe(),f=B(o.score),s={[t]:f};return p&&I(s,{$email:p}),s}if(v()){let p=$(e,mo).api_key;p&&V(`https://a.klaviyo.com/api/onsite/identify?c=${p}`,{body:JSON.stringify({token:p,properties:a()}),method:"POST",mode:"cors",credentials:"omit"},n())}else window._learnq||(window._learnq=[],i.error(new k(`${mo} globals not found`))),window._learnq.push(["identify",a()]),n()}var Sf={},Ti={};function ng(e){let t=Sf[e];return()=>{vf(t.appName,t.eventName,t.scoreObj,t.onSuccess)}}function ig(e,t,o){if(!e)return;let r=F([`${c}`,"score",e.threshold_group_count,e.comparison_group]);e.name!==void 0&&(Sf[e.name]={appName:t,eventName:r,scoreObj:e,onSuccess:o},Ti[e.name]===void 0&&(Ti[e.name]=ng(e.name)),y.addListener(window,"beforeunload",Ti[e.name])),y.setTimeout(()=>vf(t,r,e,o),5e3)}var Pi={name:mo,setup:rg,send:ig};var ag="event",yr="microsoft_ads";function sg(e,{onSuccess:t,eventCategory:o,eventAction:r,eventLabel:n,eventValue:a}){function p(){typeof t=="function"&&t(yr,{event_category:o,event_action:r,event_label:n,event_value:a})}try{window.uetq=window.uetq||[],window.uetq.push("event",r,{event_category:o,event_label:n,event_value:a}),p()}catch{i.error(new k(`${yr} globals not found`),{appName:e})}}function cg(e,t){let r=$(e,yr).tracking_id;r?function(n,a,p,f,s){var g,_,E;n[s]=n[s]||[],g=function(){var R={ti:r};R.q=n[s],n[s]=new UET(R),n[s].push("pageLoad"),t()},_=a.createElement(p),_.src=f,_.async=1,_.onload=_.onreadystatechange=function(){var R=this.readyState;R&&R!=="loaded"&&R!=="complete"||(g(),_.onload=_.onreadystatechange=null)},E=a.getElementsByTagName(p)[0],E.parentNode.insertBefore(_,E)}(window,document,"script","//bat.bing.com/bat.js","uetq"):t()}function fg(e,t,o){let r=`${c}_${t}`;if(!e)return;let n=e.integration_product,a=F([r,n,e.conversion_product,e.conversion_type]),p=F([e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,e.comparison_group]),f,s;if(n==="prospecting")s=e.raw_probability;else{f=B(e.score);let g=Number(e.score);g>=0&&(s=g)}sg(t,{onSuccess:o,eventCategory:a,eventAction:p,eventLabel:f,eventValue:s})}var ki={eventHitType:ag,name:yr,setup:cg,send:fg};var Ci="oracle_responsys";function ug(e,t,o){let r=S(window,"ORA.click");if(typeof r=="function"){let n=B(e.score);r({data:{bc_score:n,"wt.dl":99}}),typeof o=="function"&&o(Ci,n)}else throw new Error(x)}var Ni={name:Ci,send:H(Ci,ug)};var If="track";var Oi="outbrain";function pg(e,t,o){let r=S(window,"obApi");if(typeof r=="function"){let n=`${c}`,a=e.integration_product,p=F([n,a,e.threshold_group_count,B(e.score)]," ").replace(/[^0-9a-z\s]/gi,"");r(If,p),typeof o=="function"&&o(Oi,p)}else throw new Error(x)}var Ri={name:Oi,send:H(Oi,pg)};var yt="pinterest",Li=`${c}`;function Af(e){return{lead_type:e.integration_product,video_title:e.conversion_product,order_id:e.conversion_type,property:e.comparison_group,promo_code:e.comparison_type,search_query:e.threshold_setter,order_quantity:B(e.threshold_group_count),value:B(e.score)}}function bf(e,t,o){let r=b("_pin_unauth"),n=b("_derived_epik"),a={event:Li,ed:t,tid:e,pd:{...r&&{pin_unauth:r},...n&&{derived_epik:n}}};return o&&(a.ad={loc:A(),ref:document.referrer}),a}function mg(e,t,o){let r=$(t,yt).tracking_id;if(r){let n="https://ct.pinterest.com",a=Af(e),p=bf(r,a,!1),f=ue(p,!1);V(`${n}/user/?${f}`,{method:"GET"},o,()=>i.error(new Error(`${yt} api call failed`)));let s=bf(r,a,!0),g=ue(s,!1);V(`${n}/v3/?${g}`,{method:"GET"},o,()=>i.error(new Error(`${yt} api call failed`)))}}function dg(e,t,o){if(v())mg(e,t,o);else{let r=S(window,"pintrk");if(typeof r=="function"){let n=Af(e);$(t,yt).advancedMatching&&I(n,{em:fe()}),r("track",Li,n),typeof o=="function"&&o(yt,Li)}else throw new Error(x)}}var Di={name:yt,send:H(yt,dg)};var Et="snapchat",Er="_scid",wr="u_sclid",vr="u_scsid",Mi="snaptr",Bi={};function Sr(e,{getItem:t,setItem:o},r,n=Xt){return!t||!o?(i.error(new Error("Storage object is not valid")),Promise.resolve()):Promise.resolve(t(e)).then(a=>{let p=a;p||(p=n(),o(e,p)),r(p)}).catch(a=>{i.error(a)})}function Fi(e){return Bi[e]}function Ir(e,t){return Bi[e]=t,Bi[e]}function lg(e){return $(e,Et)?.pixel_id}function xf(e,t){let o=lg(t),r=Qe("navigation")[0],n=Qe(Mi)[0];return{pid:o,ev:e.score,pl:A(),rf:ce(),ts:Date.now(),trackId:Xt(),u_c1:Fi(Er),u_sclid:Fi(wr),u_scsid:Fi(vr),m_dcl:r?.domContentLoadedEventEnd,m_pi:r?.domInteractive,m_pl:r?.loadEventEnd,m_pv:r?"v2":"v1",m_rd:Math.floor(Po()),m_sl:n?.startTime,v:"2.0.0",bt:"1d53c387",if:!1}}function lo(e){if(typeof Promise.allSettled=="function")return Promise.allSettled(e);let t=e.map(o=>Promise.resolve(o).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r})));return Promise.all(t)}function Oe(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch{}}var gg="https://tr.snapchat.com/p";function Tf(e,t){return v()?lo([Sr(Er,{getItem:globalThis.browser?.cookie?.get,setItem:globalThis.browser?.cookie?.set},o=>{Ir(Er,o)}),Sr(wr,{getItem:Be,setItem:me},o=>{Ir(wr,o)}),Sr(vr,{getItem:oe,setItem:Oe},o=>{Ir(vr,o)})]).finally(t):t()}function _g(e,t,o){let r=xf(e,t);V(`${gg}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue(r)},()=>{typeof o=="function"&&o(Et,`${c},${e.score}`)},()=>{i.error(`Unable to send scores to ${Et}.`)})}function hg(e,t,o){let r=S(window,Mi);if(typeof r=="function"){if(r("track",e.score),typeof o=="function"){let n=`${c}`,a=F([n,e.score]);o(Et,a)}}else throw new Error(x)}function yg(e,t,o){return v()?_g(e,t,o):hg(e,t,o)}var go={name:Et,identify:Tf,setup:Tf,send:H(Et,yg)};var $i="taboola";function Eg(e,t,o){if(!e)return;window._tfa===void 0&&(window._tfa=[],i.error(new k(`${$i} globals not found`),{appName:t}));let r=`${c}`,n=e.integration_product,a=F([r,n,e.threshold_group_count,B(e.score)],"_");window._tfa.push({notify:"event",name:a}),typeof o=="function"&&o($i,a)}var Vi={name:$i,send:Eg};function wg(){return"product"}function Ui(){let e={},t=fe();return t&&(t=t.toLowerCase()),e.email=t,e}function vg(){let e=Ui();return Qo(e)}function Sg(){let e={},t=b("_ttp");return t&&(e.anonymous_id=t),vg().then(o=>({...e,...o}))}function br(e,t){let o=F([`${c}_${e}`,t]),r=wg();return{content_id:o,content_type:r}}function Pf(e){let t={context:{page:{referrer:document.referrer,url:A()},pixel:{code:e},userAgent:te()}};return Sg().then(o=>(t.context.user=o,t))}function qi(e,t,o,r){return Pf(e).then(n=>(n.event=t,n.properties=br(r,o),n))}function kf(e){return Pf(e).then(t=>(t.event="EnrichAM",t))}var _o="tiktok",Ig="https://analytics.tiktok.com/api/v2/pixel";function bg(e){let t=window.ttq;return t&&t.instances()&&Array.isArray(t.instances())?!!t.instances().find(o=>e===o.pixelCode&&o.loaded):!1}function Gi(){return D("tiktokAccounts")||[]}function Ag(e,t){v()||Gi().forEach(r=>{let n=r.pixelId;n&&!bg(n)&&function(a,p,f){a.TiktokAnalyticsObject=f;var s=a[f]=a[f]||[];s.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],s.setAndDefer=function(_,E){_[E]=function(){_.push([E].concat(Array.prototype.slice.call(arguments,0)))}};for(var g=0;g<s.methods.length;g++)s.setAndDefer(s,s.methods[g]);s.instance=function(_){for(var E=s._i[_]||[],R=0;R<s.methods.length;R++)s.setAndDefer(E,s.methods[R]);return E},s.load=function(_,E){var R="https://analytics.tiktok.com/i18n/pixel/events.js";s._i=s._i||{},s._i[_]=[],s._i[_]._u=R,s._t=s._t||{},s._t[_]=+new Date,s._o=s._o||{},s._o[_]=E||{},E=document.createElement("script"),E.type="text/javascript",E.async=!0,E.src=R+"?sdkid="+_+"&lib="+f,_=document.getElementsByTagName("script")[0],_.parentNode.insertBefore(E,_)},s.load(n),s.page()}(window,document,"ttq")}),t()}function Wi(){i.error(new Error(`${_o} api call failed`))}function Cf(e,t){let o=fe(),r=Yo();if(o||r){let n=e.pixelId,a=S(window,"ttq.instance");typeof a=="function"&&typeof a(n).identify=="function"&&(a(n).identify({email:o,phone_number:r}),t&&typeof t=="function"&&t())}}function Hi(e,t,o){V(Ig,{body:JSON.stringify(e),method:"POST"},t,o)}function Nf(e,t){let o=e.pixelId;o&&Ui().email&&kf(o).then(n=>{Hi(n,t,Wi)})}function xg(e,t){let o=v();function r(a,p){return()=>{let s=(de(`${e}.integrations`)||[]).find(g=>_o===g.platform);s&&s.scores&&s.scores.forEach(({score:g,integration_product:_})=>{o?qi(p,g,_,e).then(E=>{Hi(E,t,Wi)}):a(p).track(g,br(e,_))}),o||t&&typeof t=="function"&&t()}}Gi().forEach(a=>{let p=a.pixelId,f=S(window,"ttq.instance"),s=r(f,p);o?Nf(a,s):Cf(a,s)})}function Of(e,t){return function(){if(typeof e=="function"){let r=`${c}`,n=F([r,t.score]);e(_o,n)}}}function Tg(e,t,o,r){let n=e.pixelId,a=S(window,"ttq.instance");if(n&&typeof a=="function")Cf(e),t.score&&a(n).track(t.score,br(o,t.integration_product)),Of(r,t)();else throw new Error(x)}function Pg(e,t,o,r){let n=e.pixelId;if(n){Nf(e);let a=t.score,p=t.integration_product;a&&(r=typeof r=="function"?Of(r,t):void 0,qi(n,a,p,o).then(f=>{Hi(f,r,Wi)}))}else throw new Error(x)}function kg(e,t,o){Gi().forEach(n=>{v()?Pg(n,e,t,o):Tg(n,e,t,o)})}var ho={name:_o,identify:xg,setup:Ag,send:H(_o,kg)};function ji({src:e,alt:t}){let o=document.createElement("img");return o.width=1,o.height=1,o.alt=t||"",o.src=e,o}var Ar="tradedesk";function Cg(e,t,o){let n=$(t,Ar).pixel_id,a=B(e.score)-1,p=e.comparison_type,f=e.conversion_product,s=e.threshold_group_count;n&&!v()&&O(()=>{if(ji({src:`https://insight.adsrvr.org/track/pxl/?${n}&fmt=3&td1=blackcrow&td2=comparison_type|${p}&td3=comparison_product|${f}&td4=threshold_group_count|${s}&td5=score|${a}`}),typeof o=="function"){let g=`${c}`,_=F([g,e.score]);o(Ar,_)}else throw new Error(x)})}var Ki={name:Ar,send:H(Ar,Cg)};var ct="target";var xr={[wi.name]:wi,[$e.name]:$e,[Ii.name]:Ii,[bi.name]:bi,[xi.name]:xi,[Pi.name]:Pi,[ki.name]:ki,[Ni.name]:Ni,[Ri.name]:Ri,[Di.name]:Di,[go.name]:go,[Vi.name]:Vi,[ho.name]:ho,[Ki.name]:Ki};function Ng(e,t,o="score_push"){je(ct,e,o),Y(`${ct} ${o}: ${e}`,t)}function Og(e,t){t&&w(t,o=>{o.name&&xr[e].send(o,ct,Ng)})}function Rg(){let e=tr(ct),t={};return e.forEach(o=>{let r=xr[o];r!==void 0&&typeof r.setup=="function"?t[o]=new Promise(n=>r.setup(ct,n)).catch(n=>{i.error(n)}):t[o]=Promise.resolve()}),t}function Lg(e){let t=de(`${ct}.integrations`),o=[];return w(t,r=>{let n=r.platform,a=r.scores,p=xr[n];e[n]&&o.push(e[n].then(()=>{p!==void 0&&typeof p.send=="function"&&Og(n,a)}))}),Promise.all(o)}var Rf={appName:ct,init:Rg,platforms:xr,sendAppScores:Lg};var ft="identity";var Lf=U({name:"identity_kpi_sampling",allocations:[{percent:.1,value:!0}]});function Df(e,t,o){Lf&&X(`${e} platform request for ${t}`,{"platform.name":t,"event.name":o,appName:e})}function Ff(e,t){Lf&&X(`${e} user request`,t)}function yo(){return{fb:window?.trekkie?.config?.S2S?.facebookCapiEnabled}}var Dg=["a87b092c-66b8-47c1-8870-9908247d8feb"];async function Ft(e,t,o,r){try{let n=z(t);if(n.length){let a=n.find(({name:s})=>s==="aid")?.value;if(Dg.includes(a)){i.error(new k(`Not sending identity events for user with an aid of ${a}`));return}let p={site_name:u,metadata:Ko(),device_info:te(),page_url:A(),page_referrer_url:ce(),page_title:It(),platform_name:e,platform_event_name:o,ids:n,user_data:{fbc:b(Do),fbp:b(et),lit:b(Lo)},resolved_score:await oe(qt),capi:yo()},f={fb_test_event_code:b("fb_test_event_code")};ac(I(p,r,f)),Df(ft,e,o)}}catch(n){i.error(n)}}var Bf="klaviyo",Tr;function Fg(e){return e==="track"}function Bg(e){return e.overrideSampling=!0,e.message=`identity: ${e.message}`,e}function Mg(e){return t=>{t.message===`identity: ${x}`?i.error(new k(e)):i.error(t)}}function Ji(e,t){Fg(t[0])&&Ft(Bf,e,t[1],{data:t[2]})}function $g(e){Array.isArray(window._learnq)&&window._learnq.forEach(t=>{Ji(e,t)})}function Vg(e){if(typeof window._learnq.push=="function"){let t=window._learnq.push;window._learnq.push=function(...o){t.apply(this,o);let r=o[0];Ji(e,r)}}}function Ug(e){function t(){let o=Array.prototype.slice.call(arguments[0]);Ji(e,o),Tr.apply(this,arguments)}window._learnq.push&&typeof Tr!="function"&&(Tr||(Tr=window._learnq.push),window._learnq.push=t)}function qg(e,t){window._learnq=window._learnq||[],!v()&&(window._learnq?._loaded||($g(t),Vg(t)),N(()=>{if(window._learnq?._loaded){Ug(t);return}throw Bg(new Error(x))},Mg("Klaviyo platform load not detected."),500,10))}var Yi={name:Bf,setup:qg};var wo="facebook_ads";function Gg(e){return e==="track"}function Mf(e,t,o,r,n){Gg(t)&&Ft(wo,e,o,{data:r,platform_event_id:n?.eventID})}var Eo=[];function Wg(e=[]){Eo=Eo.concat(e.filter(t=>!Eo.includes(t)))}function Hg(){return Eo}function jg(){Eo=[]}function Kg(e,t){if(!window.fbq?.alreadyIntercepted)if(typeof window.fbq?.getState=="function"){let o=window.fbq;window.fbq=(...r)=>{Mf(t,...r),o(...r)},Object.keys(o).forEach(r=>{Object.defineProperty(window.fbq,r,{set:n=>{o[r]=n},get:()=>o[r]})}),window.fbq.alreadyIntercepted=!0,Hg()?.forEach(([...r])=>{Mf(t,...r)}),jg()}else throw new Error(`${wo} pixel not yet loaded for ${e}.`)}function Jg(e,t){let o=[];if(t?.length){let r=jo(e);t.forEach(n=>{let a=n?.loadPixel===!0,p=n?.pixelId,f=o.includes(p);a&&p&&!f&&r&&(o.push(p),rr(p,r))})}}function Yg(e,t){if(v())return;let o=st(e).platforms?.filter(r=>r.platform?.toLowerCase()===wo);Jg(t,o),N(()=>{Wg(window.fbq?.queue),Kg(e,t)},()=>i.error(new k(`${wo} pixel not present for ${e}.`),300))}var Xi={name:wo,setup:Yg};function Xg(){return new Promise((e,t)=>N(()=>{if(window.Shopify.checkout)return e(window.Shopify.checkout);throw new k("Shopify checkout object missing")},o=>{i.error(o),t(o)},100))}function zg(){if(!window.Shopify)throw new k("Shopify global missing")}function Qg(e){N(()=>{zg(),e()},o=>i.error(o),300,300)}var wt={setup:Qg,getShopifyCheckout:Xg};function vo(e,t){if(typeof t!="function")return;let o=window.fetch;window.fetch=(...r)=>o.apply(this,r).then(n=>{try{typeof r[0]=="string"&&r[0]?.match(e)&&t(n.clone())}catch(a){i.error(new pe(`Fetch Sniffer for "${e}" failing with "${a?.message}" possibly due to unexpected ${r}.`))}return n})}function $f(e,t,o){let r=window.fetch;window.fetch=function(...n){try{if(typeof n[0]=="string"&&n[0]?.match(e)){if(o)return r.apply(this,n).then(y.setTimeout(()=>t(n),500));t(n)}}catch{i.error(new pe(`Fetch Intercept Error For URL: ${e}`))}return r.apply(this,n)}}function vt(e){let t=new Error(e);return t.name="InvalidResponseBodyError",t.status="warn",t.stack=K(t.stack,1),t}var Bt=/.*\/cart\/{1,2}add(\.js|\.json)?(\?.*)?$/gm;function Zg(e,t){return new Promise((o,r)=>{V(e,t,o,r)}).catch(o=>i.error(o))}var Vf=/.*(\/cart(\.json|\.js)|\/cart\/(change|update)(\.js|\.json)?)(\?.*)?$/gm,Wf="_bcai_cs",Uf=!1;function Pr(e){try{me(Wf,e)}catch(t){i.error(t)}}function Hf(){try{return Be(Wf)}catch(e){i.error(e);return}}function e_(){return window?.Shopify?.routes?.root?Zg(`${window.Shopify.routes.root}cart.js`):Promise.resolve()}function qf(e){try{return JSON.parse(e)}catch(t){return i.error(new vt(t?.message)),null}}function Gf(e){let t=[e];e.items?.length&&(t=e.items);let o=t.reduce((p,f)=>{let s={...p};return f?.id!==void 0&&(s[f.id]=f),s},{}),r=Hf();if(!r||!e||Object.keys(o).length===0)return;let n=(r.items??[]).map(p=>{let f={...p},s=o[f?.id];return f.quantityAdded=0,s&&(f.quantityAdded=s.quantity-f.quantity,f.quantity=s.quantity,delete o[f.id]),f});Object.keys(o).forEach(p=>{let f=o[p];n.push({...f,quantityAdded:f.quantity})});let a={...r,item_count:n.reduce((p,f)=>p+(f.quantity??0),0),total_price:(r.total_price??0)+n.reduce((p,f)=>p+f.quantityAdded*(f.price??0),0)};a.items=n.map(p=>(delete p.quantityAdded,p)),Pr(a)}function t_(){v()||Uf||(Uf=!0,io(Vf,e=>{try{e=qf(e),e&&Pr(e)}catch(t){i.error(t)}}),vo(Vf,e=>{e.json().then(t=>Pr(t),t=>{i.error(new vt(t?.message))}).catch(t=>i.error(t))}),io(Bt,e=>{try{e=qf(e),e&&Gf(e)}catch(t){i.error(t)}}),vo(Bt,e=>{e.json().then(t=>Gf(t),t=>{i.error(new vt(t?.message))}).catch(t=>i.error(t))}))}function o_(){if(v())return Promise.resolve();let e=Hf();return e?Promise.resolve(e):e_().then(t=>(t&&Pr(t),t))}var So={setup:t_,getData:o_};var jf="AddPaymentInfo";function r_(e,t){return e.target.matches(`${["#continue_button",...t].filter(o=>!!o).join(",")}`)}function n_(){return Q()?.replace(/\/$/,"").split("/").pop()}function i_(e,t){v()||wt.setup(()=>{ke()==="payment"&&y.addListener(document,"click",o=>{r_(o,t?.additionalSelectors??[])&&So.getData().then(r=>{let n=JSON.parse(JSON.stringify(r)),a=Xo();a&&(n.total_price=a),e(jf,{data:r,platform_event_id:n_()})})},!0)})}var Kf={eventName:jf,setup:i_};var zi="AddToCart",Jf=!1;function a_(e){if(!Jf){Jf=!0;let t=r=>{function n(a,p){return a?!a[p]&&a[p]!==0:!0}if(n(r,"id")||n(r,"quantity")){i.error(new vt(`SHOPIFY ${zi} addToCart request did not return valid item: ${JSON.stringify(r)}`));return}delete r.sections,r.currency=it(),e(zi,{data:r})},o=r=>{let n={};r?.items?(n=JSON.parse(JSON.stringify(r?.items)),n.forEach(a=>t(a))):r&&(n=JSON.parse(JSON.stringify(r)),t(n))};io(Bt,r=>{let n=JSON.parse(r);o(n)}),vo(Bt,r=>{r.json().then(n=>{o(n)})})}}var Yf={eventName:zi,setup:a_};var s_=["button#checkout[type=submit]","button#checkout[type=submit] *","button[name=checkout]","button[name=checkout] *","input[id*=checkout][type=submit]","input[id*=checkout][type=submit] *",'[href*="/checkout"]','[href*="/checkout"] *',"button.rebuy-cart__checkout-button","button.rebuy-cart__checkout-button *","i.rebuy-button-icon","i.rebuy-button-icon *",'form[action="/cart"] [name="checkout"]','form[action="/cart"] [name="checkout"] *'],c_=["#dynamic-checkout-cart button","#dynamic-checkout-cart button *","#dynamic-checkout-cart [role=button]","#dynamic-checkout-cart [role=button] *",".additional-checkout-buttons button",".additional-checkout-buttons button *",".additional-checkout-buttons [role=button]",".additional-checkout-buttons [role=button] *"];function f_(e,t){return e.target.matches(`${[...s_,...c_,...t].filter(o=>!!o).join(",")}`)}function u_(e,t){return new Promise(o=>{O(()=>{y.addListener(document,"click",r=>{if(f_(r,t?.additionalSelectors??[])&&r.isTrusted){let n=r.target.parentNode?.form;(!n||n.checkValidity())&&e()}},!0),o()})}).catch(o=>i.error(o))}var Xf={setup:u_};function Qi(e){let t=new Error(e);return t.name="BadRenderError",t.status="warn",t.stack=K(t.stack,1),t}var p_=new Promise(e=>{O(e)}),m_="div.paypal-checkout-sandbox";function d_(e){return new MutationObserver(t=>{t.forEach(o=>{o.addedNodes.forEach(r=>{r instanceof Element&&r.matches(m_)&&e()})})})}async function l_(e){try{if(v())return;await p_;let t=d_(e);N(()=>{if(!(document.body instanceof Node))throw new Error;t.observe(document.body,{childList:!0})},()=>{i.error(new Qi(`document.body did not render in time and had value: ${document.body}`))})}catch(t){i.error(t)}}var zf={setup:l_};var Qf="InitiateCheckout";function g_(e,t){if(kt())return Promise.resolve();So.setup();let o=()=>{So.getData().then(r=>{e(Qf,{data:r})})};return Promise.all([Xf.setup(o,t),zf.setup(o)])}var Zf={eventName:Qf,setup:g_};var eu="PageView";function __(e){e(eu)}var tu={eventName:eu,setup:__};var ru="Purchase";function ou(e){return["order_id","line_items","total_price_set.shop_money.currency_code","total_price_set.shop_money.amount"].every(t=>S(e,t)!==void 0)}function h_(e){if(window.cart_json){let{line_items:t,currency:o,total_price:r}=window.cart_json;return I({},e,{line_items:t,total_price_set:{shop_money:{currency_code:o,amount:r}}})}return e}function y_(e){function t(o){e(ru,{data:{...o},platform_event_id:o.order_id})}T("platform",h.VIEW_RESPONSE,()=>{wt.setup(()=>{D("page.log_purchase")&&wt.getShopifyCheckout().then(o=>{if(ou(o))return t(o);let r=h_(o);if(ou(r))return t(r);throw new k("Shopify checkout required fields are missing")}).catch(o=>i.error(o))})})}var nu={eventName:ru,setup:y_};function iu(e,t){return I({},{content_ids:t?.map(o=>o?.product_id).filter(o=>o),currency:e?.currency,content_type:"product_group",num_items:t?.reduce((o,r)=>o+(r?.quantity?r.quantity:0),0)})}function E_(e){let t=e?.line_items??[];return I(iu(e,t),{order_id:e?.order_id,currency:e?.total_price_set?.shop_money?.currency_code,value:e?.total_price_set?.shop_money?.amount,contents:t?.map(o=>({id:o?.product_id,quantity:o?.quantity,item_price:o?.price,title:o?.title}))})}function au(e){function t(r){return I({},{id:r?.product_id,quantity:r.quantity,item_price:Tt(r.price),title:r.product_title,description:r.product_description,category:r.product_type})}let o=e?.items??[];return I(iu(e,o),{value:Xo()||Tt(e?.total_price),contents:o?.map(r=>t(r))})}function w_(e){let t={};return e?.items?.length?t=JSON.parse(JSON.stringify(e?.items[0])):e&&(t=JSON.parse(JSON.stringify(e))),{content_category:t.product_type,content_ids:t.product_id?[t.product_id]:[],content_name:t.title,content_type:"product_group",currency:t.currency||it(),num_items:t.quantity||1,value:t.price?Tt(t.price):void 0}}function v_(e){let t={...au(e)};return delete t?.num_items,t}function S_(e){return I({},{content_category:e?.type,content_ids:e?.id&&[e?.id],content_name:e?.title,content_type:"product_group",currency:e?.currency,value:Tt(e?.price)})}var I_={addtocart:{eventName:"AddToCart",convert:w_},purchase:{eventName:"Purchase",convert:E_,isValid:e=>e?.total_price_set?.shop_money?.currency_code&&e?.total_price_set?.shop_money?.amount},addpaymentinfo:{eventName:"AddPaymentInfo",convert:v_},viewedproduct:{eventName:"ViewContent",convert:S_},pageview:{eventName:"PageView"},initiatecheckout:{eventName:"InitiateCheckout",convert:au}};function su(e,{data:t}={}){let o=I_[e?.toLowerCase()];if(!o||o.isValid&&!o.isValid(t))return;let r=o.convert&&o.convert(t);return{eventName:o.eventName,data:r}}function Zi(e,t){return e.find(o=>o.eventSource==="shopify"&&o.originalEventName===t)}var fu="facebook_ads",cu=[],kr;function uu(e){return st(e).platforms?.filter(t=>t.platform?.toLowerCase()===fu)}function b_(e,t,o){function r(){let n=jo(e);uu(t).forEach(p=>{let f=p?.loadPixel===!0,s=p?.pixelId,g=cu.includes(s);f&&s&&!g&&n&&(cu.push(s),rr(s,n))})}o.includes("facebook_ads")?N(()=>{let n=window?.trekkie?.config?.S2S?.facebookCapiEnabled;if(typeof n=="boolean")n?kr=!1:(kr=!0,r());else throw new Error("Trekkie facebookCapiEnabled not loaded.")},()=>i.error(new k("Trekkie not loaded")),100):(kr=!0,r())}function A_(e,t,o="identity"){if(!kr)return;let r=su(e,t);uu(o).forEach(n=>{let a=Zi(n?.eventTrackers||[],e),p=a?.overrideEventName||a?.originalEventName;function f(){return a&&p&&r&&window.fbq&&n.pixelId}f()&&window.fbq("trackSingle",n.pixelId,p,r?.data,{eventID:t?.platform_event_id})})}var ea={name:fu,setup:b_,sendEvent:A_};var pu={[ea.name]:ea},mu,du,ta,oa;function x_(e,t,o,{browserEventPlatforms:r,validatePlatforms:n}={}){mu=e,du=t,ta=o,oa=r??[],n=n??[],oa.forEach(a=>{pu[a]?.setup(ta,t,n)})}function T_(e,t={},{browserEventPlatforms:o}={}){let r=o??oa;t.platform_event_id||(t.platform_event_id=Xt()),Ft(mu,ta,e,t),r.forEach(n=>{pu[n]?.sendEvent(e,t,du)})}var Ye={setup:x_,sendEvent:T_};function Xe(){let e=Se(window.location.search).variant,t=e?e.split("?")[0]:null;if(t)return parseInt(t,10);let o=[...document.querySelectorAll('input[name="id"]')];if(o.length===1)return parseInt(o,10);let r=window.ShopifyAnalytics?.meta;if(r?.product?.id){let n=[...document.querySelectorAll(`input[name="id"][data-productid="${r?.product?.id}"]`)];if(n.length===1&&n[0]?.value)return parseInt(n[0].value,10)}if(r?.product?.variants&&r?.selectedVariantId){let n=parseInt(r?.selectedVariantId,10),a=r?.product?.variants.filter(f=>f.id===n);if(window.ReCharge&&window.ga&&document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value){let f=window.ReCharge.products.filter(s=>typeof s.variant_to_duplicate[`${n}`]=="string");if(f.length===1)return f[0].variant_to_duplicate[`${n}`]}if(a.length)return n}return null}var lu="ViewedProduct";function gu(e,t){let o=JSON.parse(JSON.stringify(e));if(o.variants&&o.variants.length){let n=o?.variant_id??Xe()??o.variants[0].id,a=o.variants.find(p=>p.id===n)??o.variants[0];a.name&&(o.title=a.name),o.variants=[a]}o.featured_image?.startsWith("//")&&(o.featured_image=`https:${o.featured_image}`),delete o.description;let r=it();r&&(o.currency=r),t(lu,{data:o})}function P_(e){wt.setup(()=>{if(eo()){let t=`${Q()}.js${window.location.search}`;G(t,{},o=>gu(o,e))}})}var _u={eventName:lu,setup:P_,sendProductDataToPlatform:gu};async function k_(e,t){try{if(await oe(Qr))return;(t?.validatePlatforms||[]).includes("facebook_ads")&&N(()=>{let n=window?.trekkie?.config?.S2S?.facebookCapiEnabled;if(typeof n=="boolean")n||(e("FB_CAPI_DISABLED"),Oe(Qr,!0));else throw new Error("Trekkie facebookCapiEnabled not loaded.")},()=>i.error(new k("Trekkie not loaded")),100)}catch(o){i.error(o)}}var hu={setup:k_};var ra="shopify";function C_(e){let t=st(e),[o]=t?.platforms?.filter(r=>r?.platform===ra.toUpperCase());return o}function N_(e,t){let o=C_(e),r=o?.eventTriggerSettings;Ye.setup(ra,e,t,o),hu.setup(Ye.sendEvent,o),Kf.setup(Ye.sendEvent,r?.AddPaymentInfo),Yf.setup(Ye.sendEvent,r?.AddToCart),Zf.setup(Ye.sendEvent,r?.InitiateCheckout),tu.setup(Ye.sendEvent,r?.PageView),nu.setup(Ye.sendEvent,r?.Purchase),_u.setup(Ye.sendEvent,r?.ViewedProduct)}var na={name:ra,setup:N_};var O_="shopify_webhook";function R_(e,t){function o(){let r={method:"POST",body:JSON.stringify({attributes:{_bcai:btoa(JSON.stringify({site_name:u,ids:z(t),capi:yo()})),_bcai_aid:b("_shopify_y")}}),mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}};G(`${window?.Shopify?.routes?.root||"/"}cart/update.js`,r,()=>{},()=>{i.error(new pe("Cart update failed"))})}v()||o()}var ia={name:O_,setup:R_};function Re(e={}){let t="https://api.blackcrow.ai/user/?";qe(u)&&(t="https://api.sandbox.blackcrow.ai/user/?");let o={site_name:u,ids:e},r=JSON.stringify(o);Ze(t,r),Ff(ft,o)}function L_(e){function t(o){let r=z(e),n=Te("e",An(o));r.length&&n.length&&Re(r.concat(n))}$s(t)}var aa={name:"email",setup:L_};function D_(e){function t(o){let r=z(e),n=Te("p",Wn(o));r.length&&n.length&&Re(r.concat(n))}Ec(t)}var sa={name:"phone",setup:D_};async function Io(e,t){try{return await oe(e)===t?!0:(Oe(e,t),!1)}catch(o){return i.error(o),!1}}var F_="_kx";async function B_(e){try{let o=function(p){let f=Te("klx",p);t.length&&f.length&&Re(t.concat(f))},r=function(){return gt()},t=z(e),n=r();o(W(F_)),await Io("_bcai_s_keid",n)||o(n)}catch(t){i.error(t)}}var ca={name:"klaviyo",setup:B_};async function M_(e){try{let t=function(){let g=W(cs);return g?.trim().length>0?`fb.1.${Date.now()}.${g}`:b(Do)},o=function(){return b(et)},n=function(g){let _=Object.entries(g).reduce((E,[R,M])=>E.concat(Te(R,M)),[]);r.length&&_.length&&Re(r.concat(_))},r=z(e),[a,p]=[t(),o()],[f,s]=[await Io("_bcai_s_fbc",a),await Io("_bcai_s_fbp",p)];n({...!f&&{fbc:a},...!s&&{fbp:p}})}catch(t){i.error(t)}}var fa={name:"facebook_ads",setup:M_};function $_(e){let t=z(e),o=bc();o&&t.length&&o.forEach(r=>{let n=[];n=n.concat(Te("fn",zo(r.fn))),n=n.concat(Te("ln",zo(r.ln))),n=n.concat(Te("fln",zo(r.fln))),n.length&&Re(t.concat(n))},[])}var ua={name:"name",setup:$_};var yu="https://d-code.liadm.com/did-0012.min.js";function V_(){return Array.from(document.querySelectorAll(`script[src="${yu}"]`))}function U_(){return V_().length>0}function Eu(){return new Promise((e,t)=>{if(U_()){e();return}let o=document.createElement("script");o.src=yu,o.onload=e,o.onerror=t,o.async=!0,document.head.appendChild(o)})}function wu(){return new Promise((e,t)=>(window?.liQd_did_0012||t(new Error("Cannot run before script is loaded")),window.liQd_did_0012.resolve(e,t,{resolve:["md5","sha2","age","nonId"]})))}var vu=new Ve(Lo);async function G_(e){try{if(vu.get()||v())return;let t=z(e);if(!t.length)return;await Eu();let{md5:o,sha2:r}=await wu();if(o||r){let n=t.concat([{name:"li_md5",value:o},{name:"li_sha2",value:r}]);Re(n),vu.set("t",41760)}}catch(t){i.error(t)}}var pa={name:"live_intent",setup:G_};function ma(e,...t){return new Promise((o,r)=>{e(...t,n=>o(n),n=>r(n))})}var W_={[Yi.name]:Yi,[Xi.name]:Xi,[na.name]:na,[ia.name]:ia},H_={[aa.name]:aa,[sa.name]:sa,[ca.name]:ca,[fa.name]:fa,[ua.name]:ua,[pa.name]:pa};function j_(e,t){t.forEach(o=>{let r=H_[o];r&&typeof r.setup=="function"&&r.setup(e)})}function da(e,t){e.length!==0&&t&&t.forEach(o=>{let r=W_[o];r&&typeof r.setup=="function"&&r.setup(ft,e)})}function K_(e){return e.filter(t=>t.source==="cookie"&&t.cookieLoadUrl)}function J_(e){let t=[];return e.forEach(o=>{b(o.value)||t.push(ma(G,o.cookieLoadUrl,{mode:"no-cors",credentials:"include"}))}),t}function Y_(){let e=st(ft),t=e.userAttributes||[],o=e.userIdentifiers||[],r=K_(o),n=[],a=new Set((e.platforms||[]).map(s=>s?.platform?.toLowerCase()).filter(s=>s));r.length&&(n=J_(r));function p(s){T("platform",h.VIEW_RESPONSE,()=>{let g=lr(e?.scoreName);Oe(qt,g),s&&s(o,a)})}async function f(){try{O(()=>{j_(o,t)}),e?.scoreName?await oe(qt)?(da(o,a),p()):p(da):da(o,a)}catch(s){i.error(s)}}return lo(n).then(f).catch(s=>i.error(s))}function X_(){return Y_(),{}}var Su={appName:ft,init:X_};var Cr={audience:Xc,measure:zc,pwo:hf,target:Rf,identity:Su};var bo={};function z_(e){let t=He(e.appName);if(typeof e.init=="function"&&t.active)return e.init();let o=tr(e.appName),r={};return o.forEach(n=>{r[n]=Promise.resolve()}),r}function Q_(e,t){let o=He(e.appName);return typeof e.sendAppScores=="function"&&o.active?e.sendAppScores(t):Promise.resolve()}function Iu(){w(Cr,(e,t)=>{He(t).active&&(bo[e.appName]=e)})}function bu(){let e={};return w(bo,t=>{e[t.appName]=z_(t)}),e}function la(e){if(qe(u))return Promise.resolve();let t=[];return w(bo,o=>{t.push(Q_(o,e[o.appName]))}),Promise.all(t)}function Au(){w(bo,e=>{typeof e.cleanup=="function"&&e.cleanup()}),bo={}}function J(e){T("platform",h.VIEW_RESPONSE,t=>e(t))}function xu(e,t){return Wt(e),la(t)}function Nr(e,t){Wt(e),Hs(e.history_id),cc(),Gn(),oc(),la(t).then(()=>{$e.sendValidationEvent({location:"view_request"},"FB view event not sent")}),se("platform",h.VIEW_RESPONSE,e)}var Or=`${c}_overrides`,Tu=!1,Rr=null;function Z_(){Rr=null,Oe(Or,{})}async function Pu(e){try{let t=I({},Rr||await oe(Or),e);Rr=t,Oe(Or,t),Tu&&console.log(`Your <${c}> settings will apply on the next page load. Please refresh the page.`)}catch(t){i.error(t)}}function eh(){w(Cr,(e,t)=>{T("platform",`force_${t}`,()=>{Pu({apps:{[t]:{active:!0}}})})})}function ku(){T("platform",h.OVERRIDES,Pu),T("platform",h.CLEAR_OVERRIDES,Z_),eh()}async function Cu(){try{return Tu=!0,Rr||await oe(Or)}catch(e){return i.error(e),{}}}function Nu(){return Iu(),bu()}var Ou=!1;function th(){let e=[...document.querySelectorAll("[data-shipping-method-label-title]")];if(e.length){let t=[];return e.forEach(o=>{let n=new RegExp(/([A-Za-z0-9- ]*)(?:\s)(\([A-Za-z0-9- ]*\))/).exec(o.dataset.shippingMethodLabelTitle.trim());n&&n.length&&t.push({method:n[1],duration:n[2]})}),t}return null}function ga(){let e=[...document.querySelectorAll("[data-checkout-total-shipping]")],t=th();if(e.length&&t){let o=[];return e.forEach((r,n)=>{let a={...t[n],cost:r.dataset.checkoutShippingRate,selected:r.checked};o.push(a)}),{custom_dimensions:{tax_amount:Zt(),shipping_options:o}}}return null}function oh(){let e=[...document.querySelectorAll("[data-review-section]")];if(e.length){let o=new RegExp(/([0-9A-Za-z- ]*)(?:\s)(\([A-Za-z0-9- ]*\))(?:\s**\s*)(.*)/).exec(e[0].textContent.trim());if(o&&o.length)return{custom_dimensions:{tax_amount:Zt(),selected_shipping_option:{method:o[1],cost:o[3]}}}}return null}function rh(){let e=oh();e&&i.push({trigger:h.CA_PAYMENT,data:e})}function nh(){let e=ga();e&&i.push({trigger:h.CA_SHIPPING_EXIT,data:e})}function _a(){O(()=>{let e=ke();e==="payment"&&rh(),e==="shipping"&&!Ou&&(y.addListener(window,"beforeunload",()=>{nh()}),Ou=!0)}),J(()=>{T("platform",h.CA_PAYMENT,e=>{L(P.CA_PAYMENT,e)}),T("platform",h.CA_SHIPPING_EXIT,e=>{L(P.CA_SHIPPING_EXIT,e)})})}var ih="bcai_ca";function Ru(e){let t=W(ih);return t==="test"?!0:t==="control"?!1:!!e}function Lu(e){let t=e.comparison_type,o=e.comparison_group,r=e.score_range,a=(de(`${Ee}.scores`)||[]).find(p=>p.comparison_type===t&&p.comparison_group===o);return Ru(a&&r.indexOf(a.score)!==-1)}function Du(e){let o=[...document.getElementsByClassName("reduction-code__text")].find(n=>n.textContent===e),r=document.getElementsByClassName("tags-list").length;return!!(r===1&&o||r===0)}function Fu(e,t){return t?e<=t:!0}function Bu(e,t){return t?t<=e:!0}function Mu(){return document.getElementsByClassName("recurring-total-label-content").length===0}function $u(e){return Ru(e&&U({name:"checkout_abandonment",allocations:[{percent:e,value:!0}]}))}function Vu(e,t,o,r,n,a,p,f){let s=o&&r&&e&&t&&a&&p&&f;return s&&n?"treatment":s&&!n?"control":"not_eligible"}function Uu(e){let t={experiment_config:nt(e),resolved_experiment_config:Ae(e)};return Object.keys(t.experiment_config).length>0?t:{}}function Mt(e){return(e*.01).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}var ah="checkout_abandonment",sh="checkout_abandonment.banner.activate",qu=!1;function $t(){return Ae(ah)?.data?.free_shipping_test||{}}function ha(){let e=$t().version;if(e)return parseInt(e.replace("_",""),10)}function Lr(){qu||window.dataLayer&&D("config.google_optimize.container_id")&&(window.dataLayer.push({event:sh}),qu=!0)}function Gu(e,t){let o=document.getElementsByClassName("order-summary-toggle");o.length&&o[0].click();let r=document.getElementById("checkout_reduction_code");r&&t.coupon_code&&(r.value=t.coupon_code);let n=document.getElementById("checkout_submit");n&&(n.removeAttribute("disabled"),n.classList.remove("btn--disabled"),n.click()),y.setTimeout(()=>{let a=t.shipping_cost||595;if(a&&ha()===15&&it()==="USD"){let s=Mt(e+a),g=document.querySelector("dl.total-recap");if(g){let R=Ce("dt",{className:"visually-hidden",innerHTML:"<span>Total price</span>"}),M=Ce("dd",{className:"order-summary__emphasis skeleton-while-loading",innerHTML:`<span>${s}</span>`});M.style.textDecoration="line-through",g.prepend(R,M)}let _=document.querySelector("tr.total-line--subtotal");_&&(_.querySelector("span.order-summary__emphasis").textContent=s);let E=document.querySelector("tr.total-line--reduction");E&&(E.querySelector("span.reduction-code__text").textContent="FREE SHIPPING",E.querySelector("td.total-line__price").querySelector("span.order-summary__emphasis").textContent=`-${Mt(a)}`)}[...document.getElementsByClassName("total-line--shipping")].forEach(s=>{s.style.display="none"}),[...document.getElementsByClassName("reduction-code__text")].forEach(s=>{s.style.opacity="1"})},2e3),Lr()}var Wu=!1;function ch(e){let t=e.hotjar,o=e.hotjar_ratio_of_test_bucket;return t&&o&&U({name:"hotjar",allocations:[{percent:o,value:!0}]})}function fh(e){let t=e.hjid,o=e.version;t&&o&&(function(r,n,a,p,f,s){r.hj=r.hj||function(){(r.hj.q=r.hj.q||[]).push(arguments)},r._hjSettings={hjid:t,hjsv:6},f=n.getElementsByTagName("head")[0],s=n.createElement("script"),s.async=1,s.src=a+r._hjSettings.hjid+p+r._hjSettings.hjsv,f.appendChild(s)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),window.hj("event","bcai_ca_test"),window.hj("event",`bcai_ca_test_${o}`))}function ya(){let e=$t();!Wu&&ch(e)&&(fh(e),Wu=!0)}var Hu=!1;function uh(e){let t="cart/add",o=h.ADD_TO_CART;pr(t,()=>{i.push({trigger:o})}),$f(t,()=>{i.push({trigger:o})},e)}function ph(e){y.addListener(window,"click",t=>{let o=S(t,"target.className");(t.target.getAttribute("name")==="checkout"||e&&typeof o=="string"&&o.match(e))&&i.push({trigger:"initiate_checkout"})})}function Ea(e){let t=[];return e.items.forEach(o=>{t.push({sku:o.sku,id:o.id,quantity:o.quantity})}),e.items=t,e}function wa(e,t){return e.items&&(e=Ea(e)),{cart_json:e,...Uu(t)}}function va(e,t,o,r){G("/cart.json",{servletName:"ShopifyCart"},n=>{let a={custom_dimensions:wa(n,r)};o?t(o,I({},e,a)):t(I({},e,a))})}function Sa(e){Hu===!1&&(N(()=>{if(Pe()&&D("config.shopify.add_to_cart.active"))return uh(!0);throw new Error("Shopify globals not found")}),D("config.shopify.checkout.active")&&ph(D("config.shopify.checkout.class_name")),Hu=!0),J(()=>{Pe()&&D("config.shopify.add_to_cart.active")&&T("platform",h.ADD_TO_CART,t=>{va(I({},t,{page_id:"AddToCart"}),e,void 0,"checkout_abandonment")}),T("platform",h.INITIATE_CHECKOUT,t=>e(I({},t,{page_id:"checkout"})))})}var Dr="checkout_abandonment",mh="bcai_ca";function dh(){return Ae(Dr)?.data?.data_logging||{}}function Ia(){return Ae(Dr).active}function lh(){let e=$t().exclude_channels,t=Se(A());function o(r,n){return t[r]===n}e&&(e.values||[]).forEach(n=>{o(e.param,n)&&q(en,"true")})}function gh(){function e(r){return Object.keys(I({},r)).filter(n=>n.match("Config$")).map(n=>n.replace(/Config$/,""))}let t=S(window,"Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig.paymentInstruments");return{custom_dimensions:{checkout_options:t?e(t):void 0}}}function _h(e={}){let t=xe(),o=dh().checkout_data_page_ids||[];if(Ia()&&o.indexOf(t)!==-1){let r=ke(),n;r==="contact"?n=I({},e,gh()):r==="shipping"?n=I({},e,ga()):n=e,i.push({trigger:h.CA_CART_CHECKOUT,payload:n})}}function ju(e){O(()=>{_h(e)});let t=xe(),o=$t();o.test_page_id&&Ia()&&t===o.test_page_id&&G("/cart.json",{servletName:"ShopifyCart"},r=>{let n=r.total_price,a=Lu(o),p=Du(o.coupon_code),f=Fu(n,o.max_total_price),s=Bu(n,o.min_total_price),g=$u(o.test_bucket_ratio),_=Mu(),E=!b(ss),R=!b(en),M=Vu(a,p,f,s,g,_,E,R),he=M==="treatment",De=o.version,ze=W(mh),Ue=I({eligible:he,score_in_range:a,coupon_empty:p,cart_value_below_threshold:f,cart_value_above_threshold:s,test_bucket:g,non_subscription_item:_,pii_not_submitted:E,not_excluded_by_channel:R},{force_bucket:ze}),St={custom_dimensions:{...wa(r,Dr),eligibility:Ue,experiment_group:ze?"not_eligible":M,version:De}};L(P.CA_TEST,St),he&&(ya(),o.a_a_test||(q(Zr,"true",30),o.display_banner_only?O(()=>Lr()):O(()=>Gu(n,o))))})}function Fr(){if(lh(),b(Zr)){ya();let e=ha();(e===13||e===14)&&Ia()&&kt()&&!S(window,"Shopify.checkout")&&Lr()}J(()=>{T("platform",h.CA_CART_CHECKOUT,e=>{va(e,L,P.CA_CART_CHECKOUT,Dr)}),ju()})}var Ku=!1;function ba(){Ku||(O(()=>{if(!["korres","dropps","theadventurechallenge","pacificabeauty","nativecos"].includes(u.toLowerCase()))return;let t,o;window.DeviceOrientationEvent&&(DeviceOrientationEvent.requestPermission||y.addListener(window,"deviceorientation",r=>{let[n,a,p]=[r.alpha,r.beta,r.gamma];o={alpha:n,beta:a,gamma:p}},{once:!0})),window.DeviceMotionEvent&&(DeviceMotionEvent.requestPermission||y.addListener(window,"devicemotion",r=>{let[n,a,p]=[r.acceleration.x,r.acceleration.y,r.acceleration.z];t={x:n,y:a,z:p}},{once:!0})),y.addListener(window,"beforeunload",()=>{if(o||t){let r={custom_dimensions:{motion:t,orientation:o}};L(P.DEVICE_MOTION,r)}})}),Ku=!0)}var Ju=!1;function Yu(e){let t=[...document.querySelectorAll(e)],o=t.length>0?t[0].textContent:null;return o?o.trim():null}function Xu(){if(kt()){let e=document.querySelector(".tags-list"),t=e?e.querySelector(".reduction-code__text"):null,o=t?t.textContent:null,r=Yu("[data-checkout-discount-amount-target]"),n=Yu("[data-checkout-subtotal-price-target]");if(o){let a={custom_dimensions:{discount_code:o,discount_value:r,subtotal:n}};i.push({trigger:h.DISCOUNT_APPLIED,data:a})}}}function Aa(){O(Xu),J(()=>{T("platform",h.DISCOUNT_APPLIED,e=>{L(P.DISCOUNT_APPLIED,e)})}),Ju===!1&&(y.addListener(window,"beforeunload",()=>{Xu()}),Ju=!0)}function Ao(e){i.push({trigger:h.DISCOUNT_INTERACTION,data:{custom_dimensions:{interaction_type:e}}})}function hh(){function e(){y.setTimeout(()=>{document.getElementById("error-for-reduction_code")?Ao("invalidated"):Ao("validated")},3e3)}let t=document.getElementById("checkout_reduction_code");t&&y.addListener(t,"focus",()=>{Ao("focused_input")});let o=document.getElementById("checkout_submit");o&&y.addListener(o.form,"submit",e),[...document.getElementsByClassName("tag")].forEach(n=>{let a=n.querySelector("span.reduction-code");a&&y.addListener(a,"click",()=>{Ao("clicked_code")});let p=n.querySelector("button[type=submit]");p&&y.addListener(p,"click",()=>{Ao("clicked_remove")})})}function xa(){O(hh),J(()=>{T("platform",h.DISCOUNT_INTERACTION,e=>{L(P.DISCOUNT_INTERACTION,e)})})}function Ta(){if(ke()!=="contact")return;let e,t,o={custom_dimensions:{initial_opt_in_status_email:null,initial_opt_in_status_phone:null,final_opt_in_status_email:null,final_opt_in_status_phone:null}};O(()=>{e=document.getElementById("checkout_buyer_accepts_marketing"),t=document.getElementById("ps_accepts_sms"),o.custom_dimensions.initial_opt_in_status_email=e?e.checked:null,o.custom_dimensions.initial_opt_in_status_phone=t?t.checked:null;let r=document.getElementById("continue_button");r&&y.addListener(r,"click",()=>{t||(t=document.getElementById("ps_accepts_sms")),o.custom_dimensions.final_opt_in_status_email=e?e.checked:null,o.custom_dimensions.final_opt_in_status_phone=t?t.checked:null,L(P.MARKETING_CHECKOUT_EVENT,o)})})}var ve={platforms:{attentive:{submitEvents:["EMAIL_LEAD"]},bounceExchange:{submitEvents:["input_submission","campaign_submit"]},justUno:{},klaviyo:{submitEvents:["submit"]},sleekNote:{submitEvents:["submit"]},wisePops:{submitEvents:["after-form-submit"]},generic:{}},platformIdentifiers:["kl-","klaviyo","attn","fieldcaptureform","sleeknote","justuno","bx","bounceexchange","wisepops"],platformIdentifierExceptions:["kmail"],metadataViolators:["phone","email","sentIdentifiers"],page_id:"EmailSubmit"};var{platformIdentifiers:yh,platformIdentifierExceptions:Eh,metadataViolators:wh}=ve,Qu=(e,{qualified:t,resolveTarget:o})=>e?t(e)?o?e:!0:e.parentElement?Qu(e.parentElement,{qualified:t,resolveTarget:o}):!1:!1,vh=e=>e.style.position==="fixed"||e.style.top==="0"||e.style.top==="0px",Sh=e=>e.nodeName.toLowerCase()==="iframe",Ih={form:{qualified:e=>e.nodeName.toLowerCase()==="form",resolveTarget:!0},footer:{qualified:e=>e.nodeName.toLowerCase()==="footer",resolveTarget:!1},overlay:{qualified:e=>vh(e)||Sh(e),resolveTarget:!1}},Pa=(e,t)=>Qu(e,Ih[t]),Zu=e=>Pa(e,"form"),bh=e=>Pa(e,"footer"),Ah=e=>Pa(e,"overlay"),xh=e=>{if(!e)return"unknown";try{if(Ah(e))return"overlay";if(bh(e))return"footer";if(xe()==="checkout")return"checkout"}catch{i.error(new k("email location failed"))}return"unknown"},ep=()=>{let e=xe()==="checkout",t=document.querySelector('input[type="checkbox"]');return e&&t&&!t.checked},Th=(e,t)=>e.some(o=>typeof o=="string"&&o.toLowerCase().includes(t)),zu=(e,t)=>t.some(Th.bind(null,e)),tp=e=>{let t=[...Array.from(e.classList),e.action,e.id];return zu(t,yh)&&!zu(t,Eh)},Ph=e=>{window._learnq=window._learnq||[],window._learnq.push(["identify",{$email:e}])},kh=(e,t)=>{let o={...e};return w(Object.keys(o),r=>{w(t,n=>{r.includes(n)&&(o[r]="redacted")})}),o},Ch=e=>{i.push({trigger:h.VIEW,data:{page_id:ve.page_id,custom_dimensions:e}})},_e=(e,t)=>{let o=e.email||e.$email,r=Sn(o);In(r)&&(xt(r),Ph(r),Ch({...kh(e,wh),location:xh(t)}),ge.piiWasSubmitted())};var op=["checkout","account","login"],Nh=xe(),Oh=Q(),rp=e=>{if(op.includes(Nh)||op.some(o=>Oh.includes(o))||ep())return;let t=e.value;t&&_e({email:t},document.activeElement)},Rh=()=>{let e;w(xn(),t=>{if(e=Zu(t),e){if(tp(e))return;y.addListener(e,"submit",()=>{rp(t)})}else y.addListener(t,"focusout",()=>{rp(t)})})};function ka(){O(()=>{y.setTimeout(Rh,5e3)})}var{submitEvents:Lh}=ve.platforms.attentive;function Ca(){y.addListener(window,"message",e=>{let{origin:t,data:o,target:r}=e;if(t.includes(".attn.tv")){let{__attentive:n}=o;Lh.includes(n?.action)&&_e(n,r.document.activeElement)}})}var Dh=(e,t)=>{if(t.isWrapped)return t;function o(){try{e.apply(this,arguments)}catch{}return t.apply(this,arguments)}return o.isWrapped=!0,o},Br=(e,t)=>Dh(e,typeof t=="function"?t:()=>{});var{submitEvents:Fh}=ve.platforms.bounceExchange;function Na(){y.setTimeout(()=>{window.bouncex=window.bouncex||{},window.bouncex&&typeof window.bouncex.push=="function"&&(window.bouncex.push=Br((...e)=>{let{email:t,source:o}=e[0][1];Fh.includes(o)&&_e({email:t})},window.bouncex.push))},8e3)}function Oa(){y.setTimeout(()=>{window.ju_callback=Br((e,t)=>{_e({email:t})},window.ju_callback)},5e3)}var{submitEvents:Bh}=ve.platforms.klaviyo;function Ra(){y.addListener(window,"klaviyoForms",e=>{let{detail:t,target:o}=e,{type:r,metaData:n}=t;Bh.includes(r)&&_e(n,o.document.activeElement)})}var{submitEvents:Mh}=ve.platforms.sleekNote;function La(){y.addListener(window,"sleekNote",e=>{let{data:t,target:o}=e;Mh.includes(t.type)&&_e(t.data,o.activeElement)})}var{submitEvents:$h}=ve.platforms.wisePops;function Da(){y.setTimeout(()=>{$h.forEach(e=>{window[window.WisePopsObject]&&typeof window[window.WisePopsObject]=="function"&&window[window.WisePopsObject]("listen",e,t=>{let{target:o}=t,r=o.querySelector('input[type="email"]')?.value;_e({email:r},o)})})},5e3)}var Vh={attentive:Ca,bounce_exchange:Na,just_uno:Oa,klaviyo:Ra,sleek_note:La,wise_pops:Da};function Fa(){let e=D("config.emailFormTracking"),t=e?.active||!1,o=e?.platforms||[];t&&t===!0&&(ka(),o.map(r=>r.name).forEach(r=>{let n=Vh[r];n&&n()}))}var np=!1;function Uh(e){return e.filter(o=>o.available===!0).length>0}function qh(e,t){let o=e.filter(r=>r.id.toString()===t);return o[0]?o[0].available:!0}function ip(){G(`${A().split("?")[0]}.js`,{},e=>{let t=Xe(),o=e.variants&&e.variants.length>1,r={custom_dimensions:{out_of_stock:{in_stock:!1}}};t&&o&&!qh(e.variants,t)?(r.custom_dimensions.out_of_stock.product_id=t,i.push({trigger:h.OUT_OF_STOCK,data:r})):!t&&o&&!Uh(e.variants)?(r.custom_dimensions.out_of_stock.product_id=e.variants[0].id,i.push({trigger:h.OUT_OF_STOCK,data:r})):!t&&!o&&!e.available&&(e.variants?r.custom_dimensions.out_of_stock.product_id=e.variants[0].id:r.custom_dimensions.out_of_stock.product_id=e.id,i.push({trigger:h.OUT_OF_STOCK,data:r}))},()=>({}))}function Gh(){let e=document.URL;y.addListener(document,"change",()=>{let t=document.URL;Xe()&&t&&e!==t&&(e=t,ip())})}function Ba(){O(()=>{eo()&&(ip(),np===!1&&(Gh(),np=!0))}),J(()=>{T("platform",h.OUT_OF_STOCK,e=>{L(P.OUT_OF_STOCK,e)})})}var ap=!1;function Wh(e){let o=[{type:"shop_pay",button:[...document.querySelectorAll('[data-testid="ShopifyPay-button"]')]},{type:"google_pay",button:[...document.querySelectorAll('[data-testid="GooglePay-button"]')]},{type:"apple_pay",button:[...document.querySelectorAll('[data-testid="ApplePay-button"]')]}].filter(r=>r.button[0]===e.target);if(o.length){let r={custom_dimensions:{type:o[0].type}};i.push({trigger:h.PAYMENT_METHOD_CLICK,data:r})}}function Ma(){ap||(O(()=>{ke()==="contact"&&(y.addListener(window,"blur",()=>{if(document.activeElement.title==="Checkout with PayPal"){let t={custom_dimensions:{type:"paypal"}};i.push({trigger:h.PAYMENT_METHOD_CLICK,data:t})}}),y.addListener(document,"click",t=>{Wh(t)}))}),ap=!0),J(()=>{T("platform",h.PAYMENT_METHOD_CLICK,e=>{L(P.PAYMENT_METHOD_CLICK,e)})})}var sp=!1;function Hh(e){let t=e.ratio;return e.active&&t&&U({name:"hotjar",allocations:[{percent:t,value:!0}]})}function jh(e,t){e&&t&&t.length&&(function(o,r,n,a,p,f){o.hj=o.hj||function(){(o.hj.q=o.hj.q||[]).push(arguments)},o._hjSettings={hjid:e,hjsv:6},p=r.getElementsByTagName("head")[0],f=r.createElement("script"),f.async=1,f.src=n+o._hjSettings.hjid+a+o._hjSettings.hjsv,p.appendChild(f)}(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv="),w(t,o=>{window.hj("event",o)}))}function cp(e,t){!sp&&Hh(t)&&(jh(t.hjid,e),sp=!0)}function Kh(e){document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}));let t=document.querySelector(e.cartCountSelector)||{},o=B(t.innerText.replace(/\D/g,""));t.innerText=(o+1).toString();let r=document.getElementById("mini-cart")||{};r.open=!0}function Jh(e,t){e.innerHTML='<img class="loading_image" src="https://init.blackcrow.ai/public/loading.svg">',y.setTimeout(()=>{e.innerHTML=t},2e3)}function Yh(e,t){let o=Ce("span",{className:"sticky-call-to-action-headline",innerHTML:e});return y.addListener(o,"click",()=>{t.custom_dimensions.predictive_button.action="clicked headline",i.push({trigger:h.PREDICTIVE_BUTTON,data:t})}),o}function fp(e,t,o,r){let n={method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}};G("/cart/add.js",n,()=>{o.name.match("checkout")?window.location.href=r:Kh(t)})}function up(e,t,o,r,n,a){let p=o.singleItemCheckout?`/cart/${n}:1`:"/checkout",f={items:[{id:n,quantity:1}]};if(t.length&&!a&&Jh(e,t),o.addToCartOverrideSelector&&r.name.match("cart")&&Q()?.includes("products")){document.querySelector(o.addToCartOverrideSelector)?.click();return}if(r?.type==="shop-pay"&&(p="/checkout?payment=shop_pay"),window.ReCharge&&window.ga){let s=document.querySelector('[name="properties[shipping_interval_frequency]"]')?.value,g=document.querySelector('[name="properties[shipping_interval_unit_type]"]')?.value;s&&g&&(f.items[0].properties={shipping_interval_frequency:s,shipping_interval_unit_type:g}),G("/cart.js",{},_=>{let E=document.querySelectorAll(`input[name='id'][value='${n}']`).length===0;if(_.items.filter(M=>typeof M.properties?.shipping_interval_frequency=="string").length||E){let M=`&cart_token=${(document.cookie.match("(^|; )cart=([^;]*)")||0)[2]}`,he=`myshopify_domain=${window.Shopify.shop}`,De=`&${window.ga.getAll()[0].get("linkerParam")}`;p=`https://checkout.rechargeapps.com/r/checkout?${he}${M}${De}`}})}if(window.ReChargeWidget?.getWidgets){let s=window.ReChargeWidget.getWidgets()[0]||{},g=s.state?.selectedVariantId,_=s.state?.sellingPlanId,E=s.productData?.selling_plan_groups[0]?.selling_plan_group_id,R=s.subscriptionActive||!1,M={id:g,sellingPlanId:_,sellingPlanGroupId:E,isSubscription:R};if(g&&_&&E&&window.ReChargeWidget?.api?.postToCart){window.ReChargeWidget.api.postToCart(M).then(()=>{window.location.href=p});return}}if(window.og?.store?.getState()?.optedin&&window.og?.store?.getState()?.config?.frequencies?.length>0){let s=window.og?.store?.getState()?.optedin;s&&s.length&&(f.items[0].id=s[s.length-1].id,f.items[0].selling_plan=s[s.length-1].frequency)}window.Rebuy?G(`${A().split("?")[0]}?view=metafield`,{},s=>{s.metafields.erpLineItem&&(f.items[0].properties={"_erp-line-item":s.metafields.erpLineItem}),fp(f,o,r,p)}):fp(f,o,r,p)}function $a(e,t,o,r,n,a=!1){y.addListener(e,"click",()=>{a?n.custom_dimensions.predictive_button.action="clicked alternative option":n.custom_dimensions.predictive_button.action="clicked button";let p=Xe();if(p)up(e,t,o,r,p,a);else{let f=document.querySelector('a[role="button"]'),s=Q()?.includes("pages")&&f?.href?`${f.href}.js`:`${A().split("?")[0]}.js`;G(s,{},g=>{let _=g.variants.filter(E=>E.available===!0);_.length!==0&&(p=_[0].id,up(e,t,o,r,p,a))})}i.push({trigger:h.PREDICTIVE_BUTTON,data:n})})}function pp(e,t,o,r){let n=Ce("div",{className:`sticky-call-to-action-container ${t.animated?"animated":""}`}),a;if(t.headline){let s=Yh(t.headline,o);n.append(s)}if(r?.type==="shop-pay"){let s=Ce("script",{src:"https://cdn.shopify.com/shopifycloud/shop-js/client.js"}),g=document.createElement("shop-pay-button");return g.setAttribute("store-url",`${window.location.origin}`),n.append(s),n.append(g),$a(g,"",t,r,o),n}let p=r.text;a={name:"add",type:"button",innerHTML:p,"accept-charset":"UTF-8",className:`sticky-call-to-action-submit ${r.name}`};let f=Ce("button",a);if(n.append(f),$a(f,p,t,r,o),r.alt_option_text){a={innerHTML:r.alt_option_text,className:`sticky-call-to-action-submit-alt-option ${r.name}`};let s=Ce("a",a),g=document.querySelector(r.alt_option_override_container);g?g.append(s):n.append(s);let _={...r};r.name.match("checkout")?_.name="cart":_.name="checkout",$a(s,r.alt_option_text,t,_,o,!0)}return n}var Xh="event",zh="google_analytics";function Qh(e){e.message===x?i.error(new k(`${zh} globals not found`)):i.error(e)}function mp(e,t){let o=F(["blackcrow",e,t]);N(()=>{if(typeof window.ga=="function"){window.ga("send",{hitType:Xh,eventCategory:o,eventAction:null,eventLabel:null,nonInteraction:!0});return}if(typeof window.gtag=="function"){window.gtag("event",o,{event_category:o,event_label:null,non_interaction:!0});return}throw new Error(x)},Qh)}var Zh="bcai_pbtn",ey="bcai_pbgn",ty="bcai_pbs",Va="sticky_call_to_action";function oy(){let e=W(Zh);return e&&e.length?e:!1}function ry(){let e=W(ey);return["control","treatment"].includes(e)?e:!1}function ny(){let e=W(ty);return parseFloat(e)>=0?e:!1}function iy(){return Ae(Va)?.data||{}}function ay(e,t,o,r){let n=document.querySelector(e.original_button_selector),a=t.querySelector(".sticky-call-to-action-submit");if(n){let p=e.text;if(e.include_prices){let f=o.variants.find(g=>g.id===r)||{};p+=` - ${Mt(f.price||o.price)}`;let s=document.querySelector(`input[value="${r}"]`);y.addListener(s,"change",()=>{s.value.length&&(f=o.variants.find(g=>g.id===parseInt(s.value,10))||{},n.innerHTML=`${e.text} - ${Mt(f.price||o.price)}`)})}n.innerHTML=p,y.addListener(n,"click",f=>{f.preventDefault(),a.click()})}}function sy(e,t,o){let r=document.querySelector(e),n=document.querySelector(t);if(r&&y.addListener(r,"click",()=>{o.custom_dimensions.predictive_button.action="clicked button",i.push({trigger:h.PREDICTIVE_BUTTON,data:o})}),n)if(!n.attributes.hidden)o.custom_dimensions.predictive_button.action="render",i.push({trigger:h.PREDICTIVE_BUTTON,data:o});else{let a=new MutationObserver(()=>{n.attributes.hidden||(o.custom_dimensions.predictive_button.action="render",i.push({trigger:h.PREDICTIVE_BUTTON,data:o}),a.disconnect())});a.observe(n,{attributes:!0,childList:!0})}}function dp(e,t,o,r,n){let a=document.querySelector(e.openMenuSelector);lt()>=r&&!t.classList.contains("active")&&Ts()<464&&a===null?(t.classList.add("active"),o.custom_dimensions.predictive_button.action="render",i.push({trigger:h.PREDICTIVE_BUTTON,data:o})):n&&t.classList.contains("active")&&lt()<r&&t.classList.remove("active")}function cy(e){let t=ry();return t||e.experiment_group}function lp(e,t=[]){let o=ny()||t.find(r=>r.name&&r.name===e.score_name)?.score;return o?e.score_values.sort((n,a)=>a.score_threshold-n.score_threshold).find(n=>n.score_threshold<=o):null}function fy(e,t){let o=oy(),n=nt(Va)?.data?.button_displayed,a={};return o&&Array.isArray(n)?(a=n.find(p=>p.name===o)?.value,a.score_values?lp(a,t):a):e?.button_displayed?.score_values?lp(e.button_displayed,t):e.button_displayed}function uy(){let e=nt(Va);if(!((Q()?.includes("products")||Q()?.includes("pages"))&&e.active))return;let t=iy();if(t.product_blacklist&&t.product_blacklist.includes(xe()))return;let o=cy(t),r=`${A().split("?")[0]}.js`;function n(a){let p=Xe();if(!p&&!(a.variants&&a.variants[0]?.id))return;let f=a.variants.find(s=>s.id===p)||{};G("/cart.js",{},s=>{if(document.querySelector(".sticky-call-to-action-container"))return;s.items&&(s=Ea(s));let g={custom_dimensions:{predictive_button:{action:"impression",button_displayed:t.button_displayed,experiment_group:o,item_cost:f.price||a.price,cart_total:s.total_price,cart_json:s,version:t.version}}};L(P.PREDICTIVE_BUTTON_DECISION,g,_=>{t.send_ga_events&&mp(g.custom_dimensions.predictive_button.action,o);let E=fy(t,_.apps?.audience?.scores);if(g.custom_dimensions.predictive_button.button_displayed=E,i.push({trigger:h.PREDICTIVE_BUTTON,data:g}),!o||!E)return;if(o==="control"){if(!t.controlButtonSelector)return;sy(t.controlButtonSelector,t.controlButtonContainer,g);return}if(document.head.insertAdjacentHTML("beforeend",`<link type="text/css" rel="stylesheet" href="https://init.blackcrow.ai/public/css/${u.toLowerCase()}.css">`),t.hotjar){let he=[`bcai_pred_bttn_${E.name}`];cp(he,t.hotjar)}let R=pp(a,t,g,E);document.body.append(R),E.original_button_selector&&ay(E,R,a,p);let M=E.scroll_depth||t.scroll_depth;M?y.addListener(window,"scroll",()=>{dp(t,R,g,M,E.hide_on_scroll_up)}):dp(t,R,g,M,E.hide_on_scroll_up)})})}if(Q().includes("pages")){let a=new MutationObserver(()=>{if(document.querySelector('a[role="button"]')?.href){if(a.disconnect(),r=`${document.querySelector('a[role="button"]').href}.js`,!r.includes("/products/"))return;G(r,{},f=>n(f))}});a.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}else G(r,{},a=>n(a))}function Mr(){J(()=>{O(uy),T("platform",h.PREDICTIVE_BUTTON,e=>{L(P.PREDICTIVE_BUTTON,e)})})}function Ua(){O(()=>{y.setTimeout(()=>{if(window.Rebuy){let e={custom_dimensions:{modules:window.Rebuy.modules}};i.push({trigger:h.RB_ACTIVE,data:e})}},3e3)}),J(()=>{T("platform",h.RB_ACTIVE,e=>{L(P.RB_ACTIVE,e)})})}var gp=[Fr,ba,Aa,xa,Ta,Fa,Ba,Ma,Mr,_a,Sa,Ua];var $r="target",py=[$e,go,ho];function qa(){function e(o){let r="advanced_matching";je($r,o,r),Y(`${$r} ${r}: ${o}`,"update")}function t(o){let r=$($r,o.name);!r||Object.keys(r).length===0||typeof o.identify=="function"&&o.identify($r,()=>e(o.name))}py.forEach(o=>t(o))}function Ga(){function e(){Vs(qa),wc(qa),vc()}(D("config.visitor.set_info")||er())&&O(e)}var _p=!0;function my(e){Au(),qn(),nn(),Bn(),Wt({}),cn({}),e&&Object.keys(e).length>0&&Mo(e)}async function Wa(e={}){try{async function t(n){try{let f=function(s={}){Bn(),L(P.VIEW,s,g=>{xu(g,p)})};ku();let a=I(n,await Cu());if(cn(a),se("platform",h.START,{build:"13126"}),T("platform",h.REFRESH,o),S(a,"page.ignored"))return;sf();let p=Nu();J(()=>{T("platform",h.VIEW,s=>f(s))}),gp.forEach(s=>s(f)),await L(P.VIEW,{},s=>{Nr(s,p)},()=>{Nr({},p)})}catch(a){i.error(a)}}async function o(n={}){try{let a=e.pages||[],p=A(),f=Js(a,p);if(Y(`page: ${f.id} ${f.isNewPage?"\u2714":"\xD7"}`,f),f.isNewPage){let s=I(e,f.config);_p?(nn(),_p=!1):my(n),await t(s)}Ga()}catch(a){i.error(a)}}async function r(n=0){try{tt(e)?await o():n<5?y.setTimeout(()=>{r(n+1)},400):(await o(),i.error(new k("vendor id not found (google id)")))}catch(a){i.error(a)}}S(e,"config.visitor.id_source")==="google"?await r():await o()}catch(t){i.error(t)}}var dy=U({name:"log_spa_refresh_sampling",allocations:[{percent:.1,value:!0}]});function hp(e,t){dy&&X(e,{url:t})}var yp={SPA_REFRESH_ENABLED:"config.spa.refresh.enabled",SPA_REFRESH_DELAY:"config.spa.refresh.delay"};function Ha(){if(!v()&&D(yp.SPA_REFRESH_ENABLED)){let e=D(yp.SPA_REFRESH_DELAY)||1e3;(t=>{if(t===void 0){i.error("Unable to setup SPA refresh: window.history is undefined");return}function o(a){hp("history_intercepted_initial",a),y.setTimeout(()=>{hp("history_intercepted_timeout",a),i.push({trigger:h.REFRESH})},e)}let r=t.pushState;t.pushState=function(){try{let p=arguments.length>=3?arguments[2]:"not passed";o(p)}catch(p){i.error(p)}return r.apply(t,arguments)};let n=t.replaceState;t.replaceState=function(){try{let p=arguments.length>=3?arguments[2]:"not passed";o(p)}catch(p){i.error(p)}return n.apply(t,arguments)}})(window.history)}}function Ep(){let e=D("config.events");return e&&e.purchase&&e.purchase.fbEventsToIntercept&&e.purchase.fbEventsToIntercept.length>0?e.purchase.fbEventsToIntercept:null}function wp(){let e=D("config.events");return e&&e.view&&e.view.fbEventsToIntercept&&e.view.fbEventsToIntercept.length>0?e.view.fbEventsToIntercept:null}var ly=["load","error"],gy=U({name:"log_intercepted_fb_event",allocations:[{percent:.1,value:!0}]});function vp(e,t){let o="Interepted FB event - ".concat(e.event,". Event fired - ",t.type);gy&&X(o)}function Sp(e,t){return e.find(o=>{let r=o.event,a=(o.filters||[]).map(f=>`.*${f}`).join(),p=`facebook.com/tr/\\?id=.*&ev=${r}${a}`;return t.src.match(p)})}function _y(e,t,o){let r=Sp(t,o);r&&(vp(r,e),i.push({trigger:h.PURCHASE}))}function hy(e,t,o){let r=Sp(t,o);r&&(vp(r,e),!Pe()&&r.event==="AddToCart"&&i.push({trigger:h.ADD_TO_CART}),i.push({trigger:h.SET,data:{page_id:r.page_id,setByFacebookIntercept:!0}}),i.push({trigger:h.REFRESH}))}var yy=(e,t,o,r)=>{o&&_y(t,o,e),r&&hy(t,r,e)};function ja(){if(!v()){let e=Ep(),t=wp();if(e||t){let o=Image;Image=function(...n){let a=new o(...n);return ly.forEach(p=>y.addListener(a,p,f=>{yy(a,f,e,t)})),a}}}}function Vr(e={},t=()=>{}){ln(e,async()=>{try{if(i.SITE_NAME=u,Ss(),Vn(),i.coreStarted){i.push({trigger:h.REFRESH});return}i.coreStarted=!0,Un(),Xs(e.param_transforms),fc(),await Wa(e),Ha(),ja(),tc(),t()}catch(o){i.error(o)}})}function Ey(e,t){let o=U({name:"config_mismatch",allocations:[{percent:.1,value:!0}]});JSON.stringify(e)!==JSON.stringify(t)&&o&&X("Config mismatch",{},"warn")}async function wy(e,t,o,r){try{let a=(await t.json()).data,p=JSON.parse(atob(a));typeof o=="function"&&(o(p),o(e)),Ey(p,e),Vr(p,r)}catch(n){i.error(n)}}var vy="https://init.blackcrow.ai/",Sy="https://shopify-init.blackcrow.ai/";async function Ka(e,t,o){let r="codecademy.js"?.replace(".js",""),n=m;n?.includes("init.blackcrow.ai")||(n=Pe()?Sy:vy,i.error(new k(`codecademy.js is not hosted on the blackcrow CDN but on ${m}.`))),V(`${n}config/${r}.json`,{method:"GET"},a=>wy(e,a,t,o),()=>{i.error(new Error("Failed to fetch config from CDN")),Vr(e,o)})}Ka(l);})();
}catch(e){try{e.message=e.name+':'+e.message;e.name='ParseError';if(blackcrow&&blackcrow.BUILD_NUMBER==='DEV')(blackcrow.error||console.error||console.log)(e);else(blackcrow&&blackcrow.error&&blackcrow.error(e));}catch(_){}}})();
